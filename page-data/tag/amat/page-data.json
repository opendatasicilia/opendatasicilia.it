{
    "componentChunkName": "component---src-templates-tag-js",
    "path": "/tag/amat",
    "result": {"data":{"allWpPost":{"nodes":[{"title":"Comune di Palermo: arrivano i dati in real time per alcuni degli autobus pubblici di AMAT","slug":"comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat","uri":"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/","excerpt":"<p>AMAT, la municipalizzata del Comune di Palermo, collabora da tempo con MoovitÂ per i dati i real time di alcuni degli autobus della rete della cittÃ , visibili nella appÂ dell&#8217;azienda. Da oggi, tramite API e per 20 linee, sarÃ  possibileÂ in tempo reale accedere ai dati relativi agli arrivi di una linea del Trasporto Pubblico Locale ad una [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1867\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1867\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1867\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<p><strong>AMAT</strong>, la municipalizzata del Comune di Palermo, collabora da tempo con <strong>MoovitÂ </strong>per i dati i <em>real time</em> di alcuni degli autobus della rete della cittÃ , visibili nella <em>appÂ </em>dell&#8217;azienda.</p>\n<p>Da oggi, tramite <strong>API</strong> e per 20 linee, sarÃ  possibileÂ in <strong>tempo reale</strong> accedere ai dati relativi agli <strong>arrivi</strong> di una <strong>linea</strong> del Trasporto Pubblico Locale ad una <strong>fermata</strong>.</p>\n<p>Le linee sono:Â 100, 101, 102, 106, 108, 109, 124, 226, 246, 304, 307, 309, 327, 422, 619, 603, 704, 731, Navette Arancione centro storico ed Express.</p>\n<p>SarÃ  possibile rispondere in modo programmatico a una domanda di questo tipo: &#8220;<em>Mostrami i prossimi arrivi della linea 101 alla fermata Cavour</em>&#8220;.</p>\n<p>SarÃ  necessario di base fornire la API KEY del servizio, una coppia di coordinate dell&#8217;area del comune (per individuare il comune di Palermo), il numero della linea da monitorare e la fermata per cui si vuole il tempo di attesa (qui la <a href=\"https://docs.google.com/document/d/1LijnN51UeTa3A7RxUyDy1QBXud076dn5kGxMMN4_5KY\" target=\"_blank\" rel=\"noopener\">documentazione ufficiale</a>).</p>\n<p>Ecco un esempio di query con cURL:</p>\n<pre class=\"lang:zsh decode:true \">curl --request POST --url https://api.moovitapp.com/services-app/services/EX/API/GetLineStopArrivals \\\n--header 'api_key: amat_palermo_2317885288' \\\n--header 'content-type: application/json' \\\n--data '{\"lineNumber\":\"101\",\"stopName\":\"cavour\",\"location\":{\"lat\":38.115093,\"lon\":13.356520}}'</pre>\n<p>Che darÃ  come risultato qualcosa con questa struttura:</p>\n<pre class=\"lang:default decode:true\">{\n  \"arrivals\": [\n    {\n      \"lineCaption\": \"101\",\n      \"arrivalMinutes\": 0,\n      \"isRt\": \"true\",\n      \"agency\": \"AMAT Palermo S.p.A.\",\n      \"stopName\": \"Cavour\",\n      \"currentLocation\": {\n        \"lat\": 38.121583,\n        \"lon\": 13.357709\n      }\n    },\n    {\n      \"lineCaption\": \"101\",\n      \"arrivalMinutes\": 8,\n      \"isRt\": \"true\",\n      \"agency\": \"AMAT Palermo S.p.A.\",\n      \"stopName\": \"Cavour\",\n      \"currentLocation\": {\n        \"lat\": 38.133105,\n        \"lon\": 13.35002\n      }\n    },\n    {\n      \"lineCaption\": \"101\",\n      \"arrivalMinutes\": 11,\n      \"isRt\": \"true\",\n      \"agency\": \"AMAT Palermo S.p.A.\",\n      \"stopName\": \"Cavour\",\n      \"currentLocation\": {\n        \"lat\": 38.137134,\n        \"lon\": 13.348074\n      }\n    }\n  ]\n}</pre>\n<p>La notizia Ã¨ appena arrivata (la trovate in basso, nella descrizione di <a href=\"https://opendata.comune.palermo.it/opendata-dataset.php?dataset=1038\" target=\"_blank\" rel=\"noopener\">questo dataset</a>) e non abbiamo fatto ancora nessun <em>test </em>serio, ma Ã¨ <strong>un&#8217;ottima notizia</strong>. PerchÃ© avere in modo programmatico i tempi di attesa a una fermata per una linea, puÃ² <strong>generare servizi</strong> di gran comoditÃ  <strong>per i cittadini</strong> e <strong>per tutto l&#8217;indotto legato ai trasporti</strong>.<br />\nAlmeno per quella parte di cittÃ  coperta dalle linee per cui il servizio Ã¨ attivo (chiederemo ad AMAT quali saranno le evoluzioni del servizio).</p>\n<p>Creare un&#8217;<em>app</em> per <em>smartphone</em>Â per fotografare dei <em>QR code</em>Â da mettere in ogni fermata, che fatta la foto restituisca quando passeranno le linee servite, o un&#8217;<em>appÂ </em>per <em>Google assistant</em> a cui chiedereÂ &#8220;Ok google, quando passa da qui il 101?&#8221;, o un bot per Telegram o Facebook Messenger, Ã¨ a questo punto cosa abbastanza semplice.</p>\n<p>Una nota a caldo: chiediamo ad AMAT e al comune di pubblicare via API anche l&#8217;<strong>elenco delle linee per cui Ã¨ abilitato questo servizio</strong>. Nel tempo <a href=\"http://amat.pa.it/amat-e-moovit-portano-il-tempo-reale-alle-fermate-di-palermo/\">cambieranno</a>Â e sarÃ  essenziale per gli sviluppatori avere un modo per essere avvisati automaticamente di queste variazioni.</p>\n<p>A partire dal giugno del 2019 ci sarÃ  il progetto <a href=\"http://www.ponmetro.it/progetto/?codice=PA2.2.1.d\">City Compass</a>Â (grazie Marco Lombardo per la segnalazione) &#8211;Â <em>Piattaforma di gestione e tracciamento in tempo reale flotta autobus e Sistema integrato a servizio del cittadino per la previsione di arrivo dei mezzi di trasporto pubblico</em> &#8211;Â  ma questa Ã¨ un&#8217;altra storia.</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1867\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1867\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1867\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2018-07-28T08:19:06","author":{"node":{"name":"Redazione Open Data Sicilia"}},"comments":{"nodes":[]},"featuredImage":{"node":{"localFile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#383838","images":{"fallback":{"src":"/static/35fffa8867f64f98d0fa39d7d1d0b6c2/6b019/amat-1.jpg","srcSet":"/static/35fffa8867f64f98d0fa39d7d1d0b6c2/c8ee8/amat-1.jpg 100w,\n/static/35fffa8867f64f98d0fa39d7d1d0b6c2/ca582/amat-1.jpg 200w,\n/static/35fffa8867f64f98d0fa39d7d1d0b6c2/6b019/amat-1.jpg 400w,\n/static/35fffa8867f64f98d0fa39d7d1d0b6c2/e737e/amat-1.jpg 800w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[]},"width":400,"height":200}}}}}},{"title":"Trasporti AMAT di Palermo? Câ€™Ã¨ un Telegram per Te!","slug":"trasporti-amat-di-palermo-ce-un-telegram-per-te","uri":"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/","excerpt":"<p>Post pubblicato originariamente su giovanni.pirrotta.it. In questi ultimi tempi in rete si fa un gran parlare di BOT (abbreviazione di robot), ovvero quei programmi che fanno credere allâ€™utente di parlare con una persona reale ma che di fatto sono risponditori automatici utili per fornire servizi vari come ad esempio il meteo, news, quiz, sondaggi, giochi, [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1010\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1010\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1010\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<p><strong><em>Post pubblicato originariamente su <a href=\"http://giovanni.pirrotta.it/blog/2015/10/09/stazione-amat-di-palermo-ce-un-telegram-per-te/\" target=\"_blank\" rel=\"noopener\">giovanni.pirrotta.it</a>.</em></strong></p>\n<p>In questi ultimi tempi in rete si fa un gran parlare di <strong>BOT</strong> (abbreviazione di robot), ovvero quei programmi che fanno credere allâ€™utente di parlare con una persona reale ma che di fatto sono risponditori automatici utili per fornire servizi vari come ad esempio il meteo, news, quiz, sondaggi, giochi, etc.</p>\n<p>Il motivo di tutto questo proliferare di BOT Ã¨ dovuto principalmente allâ€™apertura di <a href=\"https://telegram.org/\" target=\"_blank\" rel=\"noopener\">Telegram</a>, nella sua versione 3, al mondo degli sviluppatori. Attraverso lâ€™utilizzo di API ufficiali, infatti, Ã¨ ora possibile creare, gestire e interagire con programmi BOT, personalizzandoli secondo le proprie esigenze.</p>\n<p>Ho sempre visto un alto potenziale nellâ€™uso di questo tipo di applicazioni e la scelta di Telegram potrebbe rivelarsi particolarmente azzeccata in questo senso.</p>\n<p>Esattamente due anni fa anchâ€™io ho iniziato a interessarmi di BOT, ad immaginarmi il mio smartphone come un telecomando da pigiare per ottenere specifici servizi: informazioni sui programmi televisivi, previsioni meteo, eventi serali della mia cittÃ , orari di apertura degli uffici pubblici, etc. Ho sviluppato quindi un BOT su <a href=\"http://www.twitter.com/\" target=\"_blank\" rel=\"noopener\">Twitter</a>Â grazie al quale, con un semplice tweet e una microgrammatica, riuscivo ad inviare richieste ad unâ€™applicazione per ottenere informazioni sui programmi televisivi della serata. Descrivo nel dettaglio lâ€™implementazione del progetto, che si chiama per lâ€™appunto <strong>cosaceintv</strong>, in questo <a href=\"http://giovanni.pirrotta.it/blog/2013/10/04/cosaceintv-la-guida-tv-a-portata-di-tweet/\" target=\"_blank\" rel=\"noopener\">post</a>; il sito del progetto Ã¨ <a href=\"http://www.cosaceintv.it/\" target=\"_blank\" rel=\"noopener\">cosaceintv.it</a>.</p>\n<p>Tuttavia Twitter non consente di creare BOT in modo nativo per cui, per raggiungere lo scopo, sono dovuto scendere a compromessi, chiamateli <em>workaround</em>.</p>\n<p>Vero Ã¨ che lâ€™app non Ã¨ diffusa come <a href=\"https://www.whatsapp.com/\" target=\"_blank\" rel=\"noopener\">WhatsApp</a>, lâ€™attuale <em>killer application</em> nel settore dellâ€™instant messaging, (molti si aspettavano dei segnali di apertura API da WhatsApp in occasione dellâ€™ultima conferenza <a href=\"https://fbf8.com/\" target=\"_blank\" rel=\"noopener\">F8</a> di Facebook, ma invece <strong>nisba</strong>) ma Ã¨ anche vero che Telegram sta guadagnando sempre piÃ¹ terreno grazie soprattutto a scelte aziendali che si stanno rivelando strategicamente vincenti, come ad esempio</p>\n<ul>\n<li>il rilascio del sorgente in opensource,</li>\n<li>lâ€™alta attenzione nei confronti della sicurezza e della privacy degli utenti,</li>\n<li>la possibilitÃ  di creare chat segrete e autodistruggenti dopo un tempo prestabilito,</li>\n<li>un design pulito e gradevole,</li>\n<li>la totale gratuita,</li>\n<li>lâ€™assenza di pubblicitÃ </li>\n<li>ed infine, non meno importante, lâ€™ultima feature aggiunta cioÃ¨ la possibilitÃ  di creare BOT per la gestione di servizi personalizzati e lâ€™interazione in modo programmatico attraverso API.</li>\n</ul>\n<p>PiÃ¹ che una semplice app di messaggistica Telegram Ã¨ di fatto una vera e propria piattaforma e in rete si trovano giÃ  applicazioni BOT di qualsiasi tipo; le piÃ¹ popolari si possono trovare al seguente <a href=\"http://storebot.me/top/\" target=\"_blank\" rel=\"noopener\">link</a>.</p>\n<p><em>Ma anche in Italia cominciano a vedersi progetti interessanti.</em></p>\n<p>A Prato <a href=\"https://twitter.com/il_tempe\" target=\"_blank\" rel=\"noopener\">Matteo Tempestini</a> ha sviluppato il <a href=\"https://telegram.me/emergenzeprato_bot\" target=\"_blank\" rel=\"noopener\">BOT Emergenze Prato</a> per essere aggiornati in tempo reale su condizioni meteo, possibili allerte e segnalazioni. A Lecce, utilizzando gli opendata del comune e non solo, <a href=\"https://twitter.com/piersoft\" target=\"_blank\" rel=\"noopener\">Pier Paolo Paolicelli (piersoft)</a>Â ha sviluppato <a href=\"http://giovanni.pirrotta.it/blog/2015/10/09/stazione-amat-di-palermo-ce-un-telegram-per-te/(https://telegram.me/opendataleccebot\" target=\"_blank\" rel=\"noopener\">OpenDataLecceBot</a> con il quale Ã¨ possibile ottenere informazioni su meteo, temperatura, qualitÃ  dellâ€™aria, orari delle scuole, tariffe aree ZTL, eventi culturali, etc. Il servizio trasporti bus <a href=\"http://www.tper.it/\">TPER</a> fornisce informazioni aggiornate sui bus di Bologna usando i servizi informativi e gli opendata. (<a href=\"https://telegram.me/tperbot\" target=\"_blank\" rel=\"noopener\">tperbot</a>.)</p>\n<p>Incuriosito quindi da tutto questo fermento mi Ã¨ venuta voglia di rimettermi in gioco anchâ€™io con i BOT e smanettare un pÃ² con questa piattaforma. Ho accolto, quindi, il suggerimento di <strong>piersoft</strong>Â  che consigliava di replicare il servizio offerto dalla TPER di Bologna sui trasporti anche per la cittÃ  di Palermo, dato che i dati sui trasporti palermitani sono <a href=\"http://www.amat.pa.it/index.php?option=com_content&amp;view=article&amp;id=1090&amp;Itemid=287\" target=\"_blank\" rel=\"noopener\">rilasciati</a> dallâ€™ azienda AMAT in formato GTFS con licenza OpenData.</p>\n<p>La specifica <a href=\"https://developers.google.com/transit/gtfs/reference\" target=\"_blank\" rel=\"noopener\">GTFS</a> (General Transit Feed Specification) Ã¨ stata sviluppata da Google e definisce un formato comune per rappresentare informazioni orarie di un sistema di trasporti (bus, metro, treno, etc) associandole ad informazioni geografiche.</p>\n<p>La specifica struttura i dati organizzandoli in un insieme di file CSV.</p>\n<p>I piÃ¹ importanti sono i seguenti:</p>\n<ul>\n<li><strong>agency</strong> â€“ informazioni inerenti lâ€™azienda che gestisce i trasporti;</li>\n<li><strong>routes</strong> â€“ informazioni sulle linee dei trasporti;</li>\n<li><strong>trips</strong> â€“ informazioni inerenti le corse per ciascuna linea;</li>\n<li><strong>stops</strong> â€“ le fermate geolocalizzate;</li>\n<li><strong>stop_times</strong> â€“ lâ€™orario di arrivo e partenza e la sequenza per ogni corsa in ciascuna fermata;</li>\n<li><strong>calendar</strong> â€“ periodo del servizio trasporti su base settimanale;</li>\n<li><strong>calendar_dates</strong> â€“ date in cui vi sono delle eccezioni rispetto a quanto descritto in<em>calendar</em> (ad. es. feste)</li>\n</ul>\n<p>Per la specifica completa si rimanda alla <a href=\"https://developers.google.com/transit/gtfs/reference\" target=\"_blank\" rel=\"noopener\">pagina ufficiale GTFS</a></p>\n<p>Quindi mettiamoci al lavoro e scarichiamo i dati dal sito AMAT di Palermo.</p>\n<p>Per prima cosa scarico il file zippato GTFS dalla <a href=\"http://www.comune.palermo.it/opendata_dld.php?id=349\" target=\"_blank\" rel=\"noopener\">pagina</a> OpenData del Comune di Palermo.</p>\n<p>Decido di caricare tutti i file CSV allâ€™interno di un dabatase Mysql, per cui inizio a cercare in rete degli <a href=\"https://en.wikipedia.org/wiki/Data_definition_language\" target=\"_blank\" rel=\"noopener\">statement DDL</a> in modo da risparmiarmi il creare tutto a manina. Uno potrebbe pensare che, essendo GTFS un formato ben definito, uno schema DDL vale lâ€™altro.</p>\n<h3>Errore!!!</h3>\n<p><em>Quelli che seguono sono alcuni consigli che vi potrebbero farvi risparmiare tempo e mal di testa quando decidete di creare uno schema GTFS trovato in rete.</em></p>\n<h4>REGOLE Dâ€™ORO</h4>\n<ol>\n<li>Analizzare <strong>sempre</strong> e <strong>bene</strong> la qualitÃ  dei dati da importare <strong>prima</strong> di importarli</li>\n<li>GOTO 1 ;â€“)</li>\n</ol>\n<p>La maggior parte dei campi <strong>id</strong> degli schemi che ho trovano in rete Ã¨ in formato intero mentre nella maggior parte dei record dei dati GTFS AMAT il campo <strong>id</strong>contiene anche valori alfanumerici, ergo trasformate tutti gli id da <strong>int</strong> a <strong>varchar</strong>.</p>\n<p>Per importare i dati automaticamente ho usato uno script in python scaricato da github. Trovate un fork sul mio repository github in quanto lo script conteneva un bug relativo al caricamento di codici alfanumerici contenenti il carattere <strong>E</strong>. Lo script erroneamente parsava i codici contenenti il carattere <strong>E</strong> come formato esadecimale considerandoli interi invece di stringa. Trovate la versione fixata nel mio <a href=\"https://github.com/gpirrotta/py-gtfs-mysql\" target=\"_blank\" rel=\"noopener\">repo</a>.</p>\n<p>A questo punto iniziamo a scrivere un pÃ² di codice. La documentazione di riferimento per creare BOT con Telegram Ã¨ fatta benissimo e la trovate al seguente <a href=\"https://core.telegram.org/bots/api\" target=\"_blank\" rel=\"noopener\">link</a>. Per lo sviluppo del codice ho usato questa <a href=\"https://github.com/irazasyed/telegram-bot-sdk\" target=\"_blank\" rel=\"noopener\">libreria PHP</a> a sua volta descritta in modo molto chiaro <a href=\"https://irazasyed.github.io/telegram-bot-sdk/\" target=\"_blank\" rel=\"noopener\">qui</a>. La libreria Ã¨ stata sviluppata per il framework PHP <a href=\"http://laravel.com/\" target=\"_blank\" rel=\"noopener\">Laravel</a>Â ma puÃ² essere utilizzata anche in modalitÃ  standalone.</p>\n<p>La prima cosa da fare Ã¨ creare il bot. Per fare questo bisogna aggiungere sul proprio client Telegram lâ€™utente <strong>@BotFather</strong> e inviargli il seguente comando <strong>/newbot</strong>. Dopo aver risposto ad alcune domande, ad esempio nome ed username del BOT, viene generato un <strong>TOKEN</strong> che rappresenta il ponte di collegamento tra il nostro software e Telegram. Per maggiori dettagli sulla creazione dei bot fate riferimento alla documentazione ufficiale.</p>\n<p>Per poter interagire con Telegram scriviamo quindi:</p>\n<pre class=\"toolbar:2 plain:false plain-toggle:false popup:false lang:php decode:true\">$telegram = new Api('BOT TOKEN');\n$response = $telegram-&gt;getMe();</pre>\n<p>Nella response troveremo informazioni sul bot creato. Per poter inviare messaggi allâ€™utente bisognerÃ  indicare, oltre al messaggio, anche lâ€™ID della chat in modo che solo lâ€™utente che ha fatto la richiesta possa ricevere il messaggio di ritorno.</p>\n<pre class=\"toolbar:2 plain:false lang:php decode:true\">$response = $telegram-&gt;sendMessage('CHAT_ID', 'Hello World');\n</pre>\n<p>Oltre a messaggi di testo il nostro BOT puÃ² rispondere anche con immagini, audio, video, allegati, etc.:</p>\n<pre class=\"toolbar:2 plain:false lang:php decode:true\">$response = $telegram-&gt;sendPhoto('CHAT_ID', 'path/to/photo.jpg', 'Some caption');\n</pre>\n<p>Ma come fa lâ€™utente a chiedere le informazioni al BOT? Inviando dei <strong>comandi</strong>.</p>\n<p>Per creare un comando, usando la libreria PHP, Ã¨ necessario estendere la classeÂ <strong>Command</strong> e implementare il metodo <strong>handle</strong>. Creare un comando Ã¨ unâ€™operazione veramente banale, Ã¨ infatti necessario inizializzare semplicemente la variabile <em>name</em>con il nome del comando che si vuole creare. Nellâ€™esempio si sta creando il comandoÂ <em>/start</em>.</p>\n<p>Nellâ€™esempio che segue, digitando da Telegram il comando <em>/start</em> il BOT risponderÃ  con <strong>Hello World!</strong></p>\n<pre class=\"toolbar:2 plain:false lang:php decode:true\">&lt;?php   \n\nuse Telegram\\Bot\\Commands\\Command;\n\nclass StartCommand extends Command \n{\n   protected $name = \"start\";\n   protected $description = \"Start Command to get you started\";\n   \n    public function handle($arguments)  {\n       $this-&gt;replyWithMessage('Hello World!');\n   }  \n}</pre>\n<p>&nbsp;</p>\n<p>Non mi soffermerÃ² oltre su questa libreria perchÃ¨, come giÃ  detto, Ã¨ presente una documentazione completa ed esaustiva.</p>\n<p>Vediamo adesso le feature piÃ¹ importanti che dovrÃ  avere il nostro BOT. Verranno descritte le piÃ¹ importanti scelte adottate per la logica applicativa. Si tratta essenzialmente di recuperare informazioni dal database e di formattare lâ€™output, ci soffermeremo quindi solo sulle query <em>SQL</em> piÃ¹ importanti.</p>\n<p>La prima versione di <strong>amatPABot</strong>, questo il nome del BOT, implementa due funzionalitÃ :</p>\n<ul>\n<li><strong>Orario Linee</strong></li>\n<li><strong><strong>Fermata piÃ¹ vicina</strong></strong></li>\n</ul>\n<p><img loading=\"lazy\" class=\"aligncenter\" src=\"https://i2.wp.com/giovanni.pirrotta.it/images/amat-bot-2.jpg?resize=480%2C680\" alt=\"\" width=\"480\" height=\"680\" data-recalc-dims=\"1\" /></p>\n<h3>Orario Linee</h3>\n<p>Le informazioni sono tutte presenti nel db per cui allâ€™interno del metodo <em>handle</em>viene gestita la logica per estrarre le informazioni relative alle linee AMAT di Palermo.</p>\n<p>La query SQL utilizzata per mostrare le linee:</p>\n<p>&nbsp;</p>\n<pre class=\"toolbar:2 plain:false lang:mysql decode:true\">SELECT route_id, route_long_name \nFROM routes \nORDER BY route_id asc</pre>\n<p>&nbsp;</p>\n<p><img loading=\"lazy\" class=\"aligncenter\" src=\"https://i1.wp.com/giovanni.pirrotta.it/images/amat-bot-3.jpg?resize=478%2C677\" alt=\"\" width=\"478\" height=\"677\" data-recalc-dims=\"1\" /></p>\n<p>A questo punto viene mostrato lâ€™elenco delle linee AMAT. Lâ€™utente puÃ² scegliere la linea di cui vuole sapere gli orari. Una volta scelta la linea un nuovo comando recupererÃ  il nome delle fermate della linea (Andata e ritorno) e gli orari relativi.</p>\n<p>Per recuperare gli orari delle corse uso la seguente query SQL, passandogli lâ€™id della linea e lâ€™id del servizio, cioÃ¨ del periodo di riferimento nel calendario.</p>\n<pre class=\"toolbar:2 plain:false lang:mysql decode:true\">SELECT * from stop_times, trips\nWHERE stop_times.trip_id = trips.trip_id \n      and trips.route_id = :route_id \n      and service_id = :service_id\nGROUP BY stop_times.trip_id</pre>\n<p>A questo punto lâ€™output ottenuto Ã¨ il seguente:</p>\n<p><img loading=\"lazy\" class=\"aligncenter\" src=\"https://i2.wp.com/giovanni.pirrotta.it/images/amat-bot-4.jpg?resize=516%2C785\" alt=\"\" width=\"516\" height=\"785\" data-recalc-dims=\"1\" /></p>\n<p>Passiamo adesso allâ€™altra funzionalitÃ .</p>\n<h3>Fermata piÃ¹ vicina</h3>\n<p>Per ottenere informazioni sulla fermata piÃ¹ vicina dobbiamo per prima cosa cliccare sulla graffetta e inviare la nostra posizione geografica</p>\n<p><img loading=\"lazy\" class=\"aligncenter\" src=\"https://i2.wp.com/giovanni.pirrotta.it/images/graffetta-amat.jpg?resize=532%2C872\" alt=\"\" width=\"532\" height=\"872\" data-recalc-dims=\"1\" /></p>\n<p><img loading=\"lazy\" class=\"aligncenter\" src=\"https://i0.wp.com/giovanni.pirrotta.it/images/posizione-amat.jpg?resize=547%2C872\" alt=\"\" width=\"547\" height=\"872\" data-recalc-dims=\"1\" /></p>\n<p>Fatto ciÃ² un comando calcolerÃ  le 5 fermate piÃ¹ vicine recuperandole dalla tabella<em>stops</em> eseguendo la seguente query:</p>\n<pre class=\"toolbar:2 plain:false lang:mysql decode:true\">SELECT stop_id, stop_name, stop_lat, stop_lon, \n(6371 * acos( cos( radians(:latitude)) *  cos( radians( stop_lat )) *  cos( radians( :longitude ) -  radians(stop_lon)) +  sin( radians(:latitude))  * sin(radians(stop_lat)))) AS distance \nFROM stops \nHAVING distance &lt; 250000 \nORDER BY distance limit 5\"</pre>\n<p>Il valore <em>6371</em> Ã¨ la lunghezza del raggio della terra. La formula utilizzata calcola la distanza in <strong>KM</strong> tra due punti espressi in latitudine e longitudine. Per maggiori informazioni fate riferimento <a href=\"https://en.wikipedia.org/wiki/Haversine_formula\" target=\"_blank\" rel=\"noopener\">qui</a> e <a href=\"http://www.codecodex.com/wiki/Calculate_distance_between_two_points_on_a_globe#Haversine_Formula\" target=\"_blank\" rel=\"noopener\">qui</a>.</p>\n<p>Per ogni fermata recupero anche il nome delle linee passanti.</p>\n<pre class=\"toolbar:2 plain:false lang:mysql decode:true \">SELECT route_id  \nFROM stops, stop_times, trips  \nWHERE stops.stop_id=stop_times.stop_id \nAND stop_times.trip_id = trips.trip_id \nAND stops.stop_id = :stop_id \nGROUP BY route_id</pre>\n<p>&nbsp;</p>\n<p>Vengono mostrate a video le 5 fermate piÃ¹ vicine con le relative linee passanti. La prima fermata viene visualizzata su una mappa (si lo so, Ã¨ Google Maps e non OpenStreetMap; nativamente Telegram usa le mappe di Google per inviare al client le posizioni geografiche; per usare OSM si potrebbero, ad esempio, creare al volo immagini statiche e inviarle allâ€™utente per la posizione delle fermate).</p>\n<p><img loading=\"lazy\" class=\"aligncenter\" src=\"https://i1.wp.com/giovanni.pirrotta.it/images/risposta-fermate.jpg?resize=544%2C864\" alt=\"\" width=\"544\" height=\"864\" data-recalc-dims=\"1\" /></p>\n<p>Per il <em>deploy</em> del BOT ho usato <a href=\"http://giovanni.pirrotta.it/blog/2015/10/09/stazione-amat-di-palermo-ce-un-telegram-per-te/w.cloudflare.com/ssl\" target=\"_blank\" rel=\"noopener\">Cloudflare</a> per avere una connessione SSL, condizione necessaria per poter utilizzare il <a href=\"https://core.telegram.org/bots/api#setwebhook\" target=\"_blank\" rel=\"noopener\">WebHook</a> in Telegram, invece del metodo manuale <a href=\"https://core.telegram.org/bots/api#getting-updates\" target=\"_blank\" rel=\"noopener\">getUpdates</a>.</p>\n<h3>Ricapitolando</h3>\n<ul>\n<li>Il BOT Ã¨ funzionante con i dati aggiornati al 2015;</li>\n<li>Sulla correttezza e consistenza dei dati non garantisco. Non prendetevela con me per eventuali inesattezze e/o sbagli :â€“)</li>\n<li>Il BOT sviluppato Ã¨ <em>ancora</em> una demo. Eâ€™ possibile aggiungere altre funzionalitÃ , il limite Ã¨ la fantasia.</li>\n</ul>\n<p>Per interagire con il bot dovete aggiungere al vostro client Telegram il contatto: <a href=\"https://telegram.me/amatpabot\" target=\"_blank\" rel=\"noopener\">@amatPABot</a>.</p>\n<p><img loading=\"lazy\" class=\"aligncenter\" src=\"https://i1.wp.com/giovanni.pirrotta.it/images/AMATBOTlogo.jpg?resize=308%2C199\" alt=\"\" width=\"308\" height=\"199\" data-recalc-dims=\"1\" /></p>\n<p>Il codice sorgente lo trovate <a href=\"https://github.com/gpirrotta/amat-pa-bot\" target=\"_blank\" rel=\"noopener\">qui</a>.</p>\n<p><strong>Attenzione, Ã¨â€™ una versione ancora poco stabile, non pronta per andare in produzione.</strong></p>\n<p>Se questo lavoro vi Ã¨ piaciuto un pÃ², potreste contribuire a farlo conoscere in giro sui social, grazie.</p>\n<p><em>Twittami</em></p>\n<p><a href=\"http://twitter.com/share?url=https://telegram.me/amatpabot&amp;text=@gpirrotta+AmatPABot+-+AMAT+Palermo+BOT+Informazioni+trasporti+pubblici\" target=\"_blank\" rel=\"noopener\"><img loading=\"lazy\" class=\"alignleft\" src=\"https://i1.wp.com/giovanni.pirrotta.it/images/twitter.png?resize=80%2C80\" alt=\"\" width=\"80\" height=\"80\" data-recalc-dims=\"1\" /></a></p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p>Idee, critiche e suggerimenti sono benvenuti.</p>\n<p>Thatâ€™s all folks! Stay tuned!</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1010\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1010\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1010\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2015/10/29/trasporti-amat-di-palermo-ce-un-telegram-per-te/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2015-10-29T08:00:20","author":{"node":{"name":"Giovanni Pirrotta"}},"comments":{"nodes":[{"content":"<p>Se cercate da Telegram questo canale @progresstelegram  avrete una raccolta di articoli comodamente tutti insieme.</p>\n"}]},"featuredImage":{"node":{"localFile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/e9f8a540f7555cf4db0664e835194c15/5bb0f/risposta-fermate.jpg","srcSet":"/static/e9f8a540f7555cf4db0664e835194c15/414e5/risposta-fermate.jpg 100w,\n/static/e9f8a540f7555cf4db0664e835194c15/9eae3/risposta-fermate.jpg 200w,\n/static/e9f8a540f7555cf4db0664e835194c15/5bb0f/risposta-fermate.jpg 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[]},"width":400,"height":635}}}}}},{"title":"Pubblicati i dati aperti sui trasporti pubblici di Palermo","slug":"pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo","uri":"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/","excerpt":"<p>Come annunciato ieri, il Comune di Palermo e AMAT Palermo SPA, hanno pubblicato i dati del trasporto pubblico locale su gomma: http://www.comune.palermo.it/opendata_dld.php?id=318#.VFyLOPmG9Fl Sono pubblicati in formato GTFS, che Ã¨ diventato lo standard per i dati sui trasporti pubblici. Oggi non andrÃ² nei dettagli, ma soltanto mostrerÃ² uno dei dati pubblicati, quello sulle fermate. Il file [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-272\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-272\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-272\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<p>Come annunciato ieri, il Comune di Palermo e AMAT Palermo SPA, hanno pubblicato i dati del trasporto pubblico locale su gomma: <a href=\"http://www.comune.palermo.it/opendata_dld.php?id=318#.VFyLOPmG9Fl\" target=\"_blank\" rel=\"noopener\">http://www.comune.palermo.it/opendata_dld.php?id=318#.VFyLOPmG9Fl</a></p>\n<p>Sono pubblicati in formato <strong><a href=\"https://developers.google.com/transit/gtfs/\" target=\"_blank\" rel=\"noopener\">GTFS</a></strong>, che Ã¨ diventato lo standard per i dati sui trasporti pubblici.</p>\n<p>Oggi non andrÃ² nei dettagli, ma soltanto mostrerÃ² uno dei dati pubblicati, quello sulle <strong>fermate</strong>. Il file che contiene le informazioni Ã¨ quello denominato &#8220;stops.txt&#8221;, che Ã¨ strutturato in <a href=\"https://developers.google.com/transit/gtfs/reference#stops_fields\" target=\"_blank\" rel=\"noopener\">questo modo</a>.</p>\n<p>Sotto la mappa, e il colpo d&#8217;occhio non Ã¨ male. Il bello secondo me deve ancora venire.</p>\n<p><script src=\"https://gist.github.com/aborruso/42a000f2a9799942a6e8.js\"></script></p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-272\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-272\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-272\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2014/11/07/pubblicati-i-dati-aperti-sui-trasporti-pubblici-di-palermo/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2014-11-07T10:16:54","author":{"node":{"name":"Andrea Borruso"}},"comments":{"nodes":[{"content":"<p>[&#8230;] situazione della cittÃ  di Agrigento, si trovano molte altre cittÃ  ad eccezione di Catania e Palermo che hanno giÃ  compiuto un primo passo verso il rilascio dei dati del trasporto pubblico in open [&#8230;]</p>\n"},{"content":"<p>Ottimo! Il comune di Palermo si sta rivelando una bella sorpresa&#8230;almeno per me.<br />\nSpero sia di ispirazione per altri comuni, siciliani e non, per l&#8217;apertura dei dati in possesso della PA.<br />\nComplimenti a tutti e buon lavoro ðŸ™‚</p>\n"},{"content":"<p>Ciao @ninolobue:disqus molto piÃ¹ semplice: quando crei un file geojson in gist, questo viene renderizzato nativamente in una mappa di cui puoi fare l&#8217;embed: <a href=\"https://github.com/blog/1576-gist-meets-geojson\" rel=\"nofollow ugc\">https://github.com/blog/1576-gist-meets-geojson</a></p>\n<p>Il tutto si deve ad una parteneship tra github e mapbox</p>\n"},{"content":"<p>ciao Andrea, la mappa l&#8217;hai creata con MapBox oppure hai usato altre API?</p>\n"},{"content":"<p>Caro @simonecortesi:disqus piÃ¹ tardi ora ne do notizia anche su talk-it.</p>\n<p>Il lavoro che farete domani per Bari lo wikizzate? Se sÃ¬, lo potremmo usare per replicarlo per Palermo.</p>\n"},{"content":"<p>A piccoli passi ci arriviamo, due anni fa queste cose sarebbero state impensabili, ora in parte suscitano stupore, ma comunque&#8230;bravi tutti!</p>\n"}]},"featuredImage":{"node":{"localFile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8e8d8","images":{"fallback":{"src":"/static/51b8644d12f8cecee58b6c15c1add331/950ef/fermate_palermo.jpg","srcSet":"/static/51b8644d12f8cecee58b6c15c1add331/10ac8/fermate_palermo.jpg 100w,\n/static/51b8644d12f8cecee58b6c15c1add331/e0fd1/fermate_palermo.jpg 200w,\n/static/51b8644d12f8cecee58b6c15c1add331/950ef/fermate_palermo.jpg 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[]},"width":400,"height":464.00000000000006}}}}}}]}},"pageContext":{"name":"amat","slug":"amat"}},
    "staticQueryHashes": ["67603594"]}