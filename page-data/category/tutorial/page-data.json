{
    "componentChunkName": "component---src-templates-category-js",
    "path": "/category/tutorial",
    "result": {"data":{"allWpPost":{"nodes":[{"title":"InformaCOVID, il Kit di Comunicazione Efficace per il tuo Comune","slug":"informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune","uri":"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/","excerpt":"<p>La comunitÃ  di Open Data Sicilia Ã¨ lieta di invitarti alla presentazione del progetto &#8220;InformaCOVID &#8211; il Kit di Comunicazione Efficace per il tuo Comune&#8220;, che si svolgerÃ  online martedÃ¬ 25 maggio alle ore 17.&nbsp; Open Data Sicilia ha aderito sin da subito alla campagna&nbsp;#datibenecomune, unendosi alla richiesta di rendere disponibili, aperti, interoperabili (machine readable) [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-2649\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-2649\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-2649\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<p><span style=\"font-weight: 400\">La comunitÃ  di Open Data Sicilia Ã¨ lieta di invitarti alla presentazione del progetto &#8220;</span><b>InformaCOVID</b><i><span style=\"font-weight: 400\"> &#8211; il Kit di Comunicazione Efficace per il tuo Comune</span></i><b>&#8220;</b><span style=\"font-weight: 400\">, che si svolgerÃ  online </span><b>martedÃ¬ 25 maggio alle ore 17</b><span style=\"font-weight: 400\">.&nbsp;</span></p>\n<p><span style=\"font-weight: 400\">Open Data Sicilia ha aderito sin da subito alla campagna</span><a href=\"https://datibenecomune.it\"><span style=\"font-weight: 400\">&nbsp;#datibenecomune</span></a><span style=\"font-weight: 400\">, unendosi alla richiesta di rendere disponibili, aperti, interoperabili (</span><i><span style=\"font-weight: 400\">machine readable</span></i><span style=\"font-weight: 400\">) e disaggregati tutti i dati comunicati dalle Regioni al Governo dallâ€™inizio della pandemia. Questo perchÃ© crediamo fortemente che anche i cittadini delle piÃ¹ piccole comunitÃ  abbiano il diritto di conoscere i dati che li riguardano e come essi variano nel tempo e di come varia la diffusione della pandemia nel proprio territorio.&nbsp;</span></p>\n<p><span style=\"font-weight: 400\">Da queste motivazioni nasce il progetto </span><b>InformaCOVID</b><span style=\"font-weight: 400\">, che mette assieme procedure guidate grazie alle quali tutti i comuni potranno avere a costo zero una piattaforma digitale, dinamica e interattiva, che consenta di comunicare i dati COVID in maniera trasparente ed efficace.</span></p>\n<p><span style=\"font-weight: 400\">Il progetto prevede un pacchetto di strumenti digitali gratuiti e scalabili per tutto il territorio nazionale, in grado di fornire alla cittadinanza un&#8217;informazione puntuale e rapida sull&#8217;andamento dei dati COVID19 del proprio comune, mediante un sistema informativo di facile utilizzo, fruibile da computer, tablet e smartphone.</span></p>\n<p><b>InformaCOVID</b><span style=\"font-weight: 400\"> Ã¨ rivolto principalmente ai sindaci delle cittÃ  italiane, </span><b>ma non solo</b><span style=\"font-weight: 400\">. Associazioni, scuole, testate giornalistiche, praticamente chiunque abbia accesso a dati COVID19 provenienti da fonti ufficiali e autorevoli, potrÃ  utilizzare la piattaforma per informare la cittadinanza.</span></p>\n<p><span style=\"font-weight: 400\">Se il progetto ti ha incuriosito e vuoi saperne di piÃ¹, non ti resta che segnare sul calendario la data del <strong>25 maggio</strong> e alle <strong>ore 17</strong> collegarti qui sotto&nbsp;&#x1f447;&nbsp;</span></p>\n<p><span class=\"embed-youtube\" style=\"text-align:center; display: block;\"><iframe loading=\"lazy\" class=\"youtube-player\" width=\"1140\" height=\"642\" src=\"https://www.youtube.com/embed/ZSrQbeaOeF4?version=3&#038;rel=1&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;fs=1&#038;hl=it-IT&#038;autohide=2&#038;wmode=transparent\" allowfullscreen=\"true\" style=\"border:0;\" sandbox=\"allow-scripts allow-same-origin allow-popups allow-presentation\"></iframe></span></p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-2649\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-2649\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-2649\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2021/05/18/informacovid-il-kit-di-comunicazione-efficace-per-il-tuo-comune/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2021-05-18T16:23:39","author":{"node":{"name":"Giovanni Pirrotta","slug":"giovannipirrotta"}},"comments":{"nodes":[]},"categories":{"nodes":[{"name":"applicazioni","slug":"applicazioni"},{"name":"Comuni","slug":"comuni"},{"name":"Cose nostre","slug":"cose-nostre"},{"name":"covid-19","slug":"covid-19"},{"name":"Iniziative","slug":"iniziative"},{"name":"tutorial","slug":"tutorial"}]},"tags":{"nodes":[{"name":"informaCOVID","slug":"informacovid"}]},"featuredImage":{"node":{"localFile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/288e902a69a38cbcbd398a71d1d74c7e/aeb79/social-card-preview.png","srcSet":"/static/288e902a69a38cbcbd398a71d1d74c7e/c636e/social-card-preview.png 100w,\n/static/288e902a69a38cbcbd398a71d1d74c7e/a1453/social-card-preview.png 200w,\n/static/288e902a69a38cbcbd398a71d1d74c7e/aeb79/social-card-preview.png 400w,\n/static/288e902a69a38cbcbd398a71d1d74c7e/47126/social-card-preview.png 800w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[]},"width":400,"height":225}}}}}},{"title":"OpenARS: una prima esplorazione dei dati","slug":"openars-una-prima-esplorazione-dei-dati","uri":"/2018/10/18/openars-una-prima-esplorazione-dei-dati/","excerpt":"<p>A meno di un mese daÂ Open Data Sicilia 2018, che si terrÃ  a Palermo il 9 e 10 novembre, entriamo adesso piÃ¹ nel vivo nel progetto OpenARS, i linked data dellâ€™Assemblea Regionale Siciliana (ARS), che verrÃ  presentato nel corso dellâ€™evento. Nellâ€™ultimo post ci eravamo lasciati con la presentazione dellâ€™ontologia OpenARS, creata per descrivere in modo [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1942\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1942\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1942\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<div>A meno di un mese daÂ <strong><a href=\"http://ods2018.opendatasicilia.it\" target=\"_blank\" rel=\"noopener\">Open Data Sicilia 2018</a>,</strong> che si terrÃ  a <strong>Palermo il 9 e 10 novembre</strong>, entriamo adesso piÃ¹ nel vivo nel progetto OpenARS, i linked data dellâ€™Assemblea Regionale Siciliana (ARS), che verrÃ  presentato nel corso dellâ€™evento.</div>\n<div>Nellâ€™<a href=\"http://opendatasicilia.it/2018/09/27/alla-scoperta-di-openars-i-linked-data-dellassemblea-regionale-siciliana/\" target=\"_blank\" rel=\"noopener\">ultimo post</a> ci eravamo lasciati con la presentazione dellâ€™<a href=\"http://www.openars.org/core/index-en.html\" target=\"_blank\" rel=\"noopener\">ontologia OpenARS</a>, creata per descrivere in modo formale le diverse tipologie di dati dellâ€™ARS e le loro interconnessioni.</div>\n<div>Lâ€™ontologia sviluppata consente di dare ad ogni risorsa un significato e di trasformare i dati dellâ€™ARS in un enorme grafo direttamente interrogabile, esplorabile e riutilizzabile in altri contesti.</div>\n<div></div>\n<div><strong>Ma come li interroghiamo i dati?</strong></div>\n<div></div>\n<div>Per farlo Ã¨ necessario introdurre il linguaggio principe usato nel Web SemanticoÂ per le interrogazioni, cioÃ¨ il linguaggio <strong>SPARQL</strong>.</div>\n<div></div>\n<div>\n<div>Il linguaggio <strong>SPARQL</strong> Ã¨ una <a href=\"https://www.w3.org/TR/sparql11-query/\" target=\"_blank\" rel=\"noopener\">raccomandazione W3C</a> che definisce in modo standard come interrogare i dati, a partire da grafi <strong>RDF</strong> distribuiti nel Web. Il criterio di interrogazione Ã¨ basato su un meccanismo di <strong>pattern matching</strong>, nello specifico dal costrutto <strong>triple pattern</strong>, che riflette il modello di asserzioni RDF delle triple e fornisce un modello flessibile per le ricerche.</div>\n</div>\n<div></div>\n<div>\n<div>Lo schema generico di unâ€™interrogazione SPARQL Ã¨ il seguente:</div>\n<div>\n<pre class=\"lang:default decode:true\">PREFIX ex: &lt;http://example.org/&gt;\nSELECT ...\nFROM ... \nWHERE { ... } \nORDER BY ...</pre>\n<div>dove</div>\n<ul>\n<li>\n<div><strong>PREFIX</strong> Ã¨ la clausola che definisce prefissi e namespace, comoda per abbreviare le <em>URI</em>;</div>\n</li>\n<li>\n<div><strong>SELECT</strong> Ã¨ la clausola che definisce le informazioni che vogliamo estrarre dal repository;</div>\n</li>\n<li>\n<div><strong>FROM</strong> Ã¨ la clausola che definisce il grafo (o i grafi) da esplorare. PuÃ² essere sia locale sia remoto. Possiamo anche inserire clausole come <strong>FROM</strong> <strong>NAMED</strong> e <strong>GRAPH</strong> per specificare sorgenti dati multipli;</div>\n</li>\n<li>\n<div><strong>WHERE</strong> Ã¨ la clausola che definisce il pattern del grafo che intendiamo cercare nel dataset; rappresenta la parte piÃ¹ importante della query;</div>\n</li>\n<li>\n<div><strong>ORDER</strong> <strong>BY</strong> Ã¨ la clausola che mi consente di ordinare i risultati della ricerca.</div>\n</li>\n</ul>\n<div>Immaginiamo di avere un dataset contenente un insieme di <strong>libri</strong> (<em>risorse</em>) descritti da una specifica ontologia nel file <strong>book.rdf</strong>, pubblicato nel Web secondo i principi dei <a href=\"https://www.w3.org/DesignIssues/LinkedData.html\" target=\"_blank\" rel=\"noopener\">Linked Data</a>. Immaginiamo di identificare il dataset nel Web col seguente URL:</div>\n<div><em><span class=\"lang:default decode:true crayon-inline \">http://example.org/books.rdf</span>Â .</em></div>\n<div>Il nostro obiettivo Ã¨ conoscereÂ tutti i libri presenti del dataset con i relativi autori; per fare questo dobbiamo estrarre tutte le risorse di tipo <strong>libro</strong> (<em>?book</em>) e tutte le <strong>persone</strong> (<em>?person</em>) che sono <strong>autori</strong> (<em>ex:hasAuthor</em>) dei <strong>libri</strong>.Â Dei libri vogliamo conoscere i <strong>titoli</strong> (<em>?book_title</em>) e i <strong>nomi</strong> e <strong>cognomi</strong> degli autori (<em>?person_name</em>, <em>?person_surname</em>).</div>\n<div></div>\n</div>\n<div>\n<div>La query di interrogazione sarÃ  la seguente:</div>\n</div>\n<div>\n<pre class=\"lang:default decode:true\">PREFIX ex: &lt;http://example.org/&gt; \nSELECT ?book_title ?person_name ?person_surname \nFROM &lt;http://example.org/books.rdf&gt; \nWHERE { ?book a ex:Book; \n              ex:title ?book_title; \n              ex:hasAuthor ?person. \n        ?person ex:name ?person_name; \n                ex:surname ?person_surname. \n}</pre>\n<div>e questo un ipotetico risultato</div>\n<div></div>\n</div>\n<div><a href=\"https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql1.png?ssl=1\"><img loading=\"lazy\" class=\"alignnone wp-image-1943 size-full\" src=\"https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql1.png?resize=680%2C150&#038;ssl=1\" alt=\"\" width=\"680\" height=\"150\" srcset=\"https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql1.png?w=680&amp;ssl=1 680w, https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql1.png?resize=300%2C66&amp;ssl=1 300w\" sizes=\"(max-width: 680px) 100vw, 680px\" data-recalc-dims=\"1\" /></a></div>\n</div>\n<div></div>\n<div></div>\n<div>\n<div>Passiamo adesso ad <strong>OpenARS</strong> e proviamo ad effettuare unâ€™interrogazione reale direttamente sul suo <strong>repository</strong>. A differenza del file pubblicato nellâ€™esempio precedente i dati di OpenARS sono caricati su un server di storage dedicato che contiene lâ€™intera base di conoscenza nella forma di triple/asserzioni . Per poter effettuare delle interrogazioni sui dati Â Ã¨ necessario conoscere lâ€™URL punto di ingresso, conosciuto con il nome di <a href=\"http://virtuosa.pa2.itd.cnr.it:8890/sparql\" target=\"_blank\" rel=\"noopener\"><strong>SPARQL endpoint</strong></a>.</div>\n<div></div>\n<div>Eâ€™ possibile effettuare lâ€™interrogazione direttamente dal client Web fornito dal triple store, come nella figura sottostante oppure Ã¨ possibile eseguire query SPARQL da codice sorgente di un qualsiasi linguaggio di programmazione se si vogliono sviluppare applicazioni che interagiscono con i dati.</div>\n</div>\n<div></div>\n<div><a href=\"https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql2.png?ssl=1\"><img loading=\"lazy\" class=\"alignnone wp-image-1944 size-large\" src=\"https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql2.png?resize=1024%2C518&#038;ssl=1\" alt=\"\" width=\"1024\" height=\"518\" srcset=\"https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql2.png?resize=1024%2C518&amp;ssl=1 1024w, https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql2.png?resize=300%2C152&amp;ssl=1 300w, https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql2.png?resize=768%2C389&amp;ssl=1 768w, https://i2.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql2.png?w=1223&amp;ssl=1 1223w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" data-recalc-dims=\"1\" /></a></div>\n<div>\n<div>Prima di effettuare qualsiasi tipo di ricerca Ã¨ fondamentale conoscere <strong>lâ€™ontologia</strong> di riferimento al fine di poter interrogare correttamente i dati per tipologie di classi e per connessioni esistenti tra le risorse.</div>\n<div></div>\n<div>Facciamo adesso qualche esempio di interrogazione relativa a <strong>statistiche</strong> sullâ€™attivitÃ  legislativa dellâ€™ARS. Per esempio, vogliamo sapere <em>quanti disegni di legge sono stati presentati nel corso della 16Â° legislatura.</em></div>\n<div></div>\n<div>La query SPARQL Ã¨ la seguente:</div>\n<div>\n<pre class=\"lang:default decode:true \">PREFIX ars: &lt;http://www.openars.org/core#&gt;\nSELECT count(?ddl)\nFROM &lt;http://www.openars.org/9/&gt;\nWHERE {\n?ddl a ars:DisegnoDiLegge;\n      ars:legislatura &lt;http://dati.openars.org/legislatura/xvi&gt;\n}</pre>\n<div>che restituirÃ  come risultato il valore 1346.Â Â <strong><a href=\"http://virtuosa.pa2.itd.cnr.it:8890/sparql?default-graph-uri=http%3A%2F%2Fwww.openars.org%2F7%2F&amp;query=PREFIX+ars%3A+%3Chttp%3A%2F%2Fwww.openars.org%2Fcore%23%3E%0D%0ASELECT+count%28%3Fitem%29%0D%0AFROM+%3Chttp%3A%2F%2Fwww.openars.org%2F9%2F%3E%0D%0AWHERE+%7B%0D%0A%3Fitem+a+ars%3ADisegnoDiLegge%3B%0D%0A+++++ars%3Alegislatura+%3Chttp%3A%2F%2Fdati.openars.org%2Flegislatura%2Fxvi%3E%0D%0A%7D&amp;format=text%2Fhtml&amp;timeout=0&amp;debug=on\" target=\"_blank\" rel=\"noopener\">Provare</a></strong> per credere.</div>\n<div></div>\n<div>La query assomiglia molto al linguaggio SQL e risulta di per sÃ© molto leggibile. Nel campo <strong>WHERE</strong> selezioniamo tutte le risorse dello store di tipo a<strong>rs:DisegnoDiLegge</strong>Â che sono collegate, tramite la proprietÃ  <strong>ars:legislatura</strong>, alla risorsa che identifica la sedicesima legislatura (<span class=\"lang:default decode:true crayon-inline \">http://dati.openars.org/legislatura/xvi</span>Â ).</div>\n<div>La selezione restituisce un certo numero di istanze e nel campo <strong>SELECT</strong> decidiamo di calcolare il numero totale di tali istanze, tramite lâ€™operatore di aggregazioneÂ count,Â che corrisponde al numero totale di disegni di legge della 16Â° legislatura.</div>\n<div></div>\n<div>Vediamo adesso qualcosa un pÃ² piÃ¹ complesso.</div>\n<div></div>\n<div>Voglio sapere <em>la classifica top tenÂ Â dei disegni di legge presentati nella 16Â° legislatura suddivisa per materia.Â </em></div>\n<div></div>\n<div>La query SPARQL Ã¨ la seguente:</div>\n</div>\n<div>\n<pre class=\"lang:default decode:true \">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;\nPREFIX ars: &lt;http://www.openars.org/core#&gt;\nPREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;\n\nSELECT ?nomeMateria count(?ddl) as ?num\nFROM &lt;http://www.openars.org/9/&gt;\nWHERE {\n?topic a ars:Materia.\n?ddl a ars:DisegnoDiLegge;\n     ars:materia ?topic;\n     ars:legislatura &lt;http://dati.openars.org/legislatura/xvi&gt;.\n?topic ars:nomeMateria ?nomeMateria.\n      }\nGROUP BY ?nomeMateria\nORDER BY DESC(?num)\nLIMIT 10</pre>\n<div>\n<p>Questo il <a href=\"http://virtuosa.pa2.itd.cnr.it:8890/sparql?default-graph-uri=http%3A%2F%2Fwww.openars.org%2F9%2F&amp;query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0D%0APREFIX+ars%3A+%3Chttp%3A%2F%2Fwww.openars.org%2Fcore%23%3E%0D%0APREFIX+foaf%3A+%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0D%0A%0D%0ASELECT+%3FnomeMateria+count%28%3Fddl%29+as+%3Fnum%0D%0AFROM+%3Chttp%3A%2F%2Fwww.openars.org%2F9%2F%3E%0D%0AWHERE+%7B%0D%0A%3Ftopic+a+ars%3AMateria.%0D%0A%3Fddl+a+ars%3ADisegnoDiLegge%3B%0D%0A+++++ars%3Amateria+%3Ftopic%3B%0D%0A+++++ars%3Alegislatura+%3Chttp%3A%2F%2Fdati.openars.org%2Flegislatura%2Fxvi%3E.%0D%0A%3Ftopic+ars%3AnomeMateria+%3FnomeMateria.%0D%0A++++++%7D%0D%0AGROUP+BY+%3FnomeMateria%0D%0AORDER+BY+DESC%28%3Fnum%29%0D%0ALIMIT+10&amp;format=text%2Fhtml&amp;timeout=0&amp;debug=on\"><strong>risultato</strong></a>:</p>\n</div>\n</div>\n<div><a href=\"https://i0.wp.com/opendatasicilia.it/wp-content/uploads/2018/10/sparql3.png?ssl=1\"><div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained alignnone wp-image-1945 size-full inline-gatsby-image-wrapper\" data-reactroot=\"\"><div style=\"max-width:260px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;282&#x27; width=&#x27;260&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><picture><source type=\"image/webp\" data-srcset=\"/static/e9ae97bbf2b61a48fe514cf4399a777b/d8a94/sparql3.webp 65w,/static/e9ae97bbf2b61a48fe514cf4399a777b/7bb94/sparql3.webp 130w,/static/e9ae97bbf2b61a48fe514cf4399a777b/33c75/sparql3.webp 260w\" sizes=\"(min-width: 260px) 260px, 100vw\"/><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 260px) 260px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/static/e9ae97bbf2b61a48fe514cf4399a777b/ec606/sparql3.png\" data-srcset=\"/static/e9ae97bbf2b61a48fe514cf4399a777b/b0673/sparql3.png 65w,/static/e9ae97bbf2b61a48fe514cf4399a777b/d9631/sparql3.png 130w,/static/e9ae97bbf2b61a48fe514cf4399a777b/ec606/sparql3.png 260w\" alt=\"\"/></picture><noscript><picture><source type=\"image/webp\" srcSet=\"/static/e9ae97bbf2b61a48fe514cf4399a777b/d8a94/sparql3.webp 65w,/static/e9ae97bbf2b61a48fe514cf4399a777b/7bb94/sparql3.webp 130w,/static/e9ae97bbf2b61a48fe514cf4399a777b/33c75/sparql3.webp 260w\" sizes=\"(min-width: 260px) 260px, 100vw\"/><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 260px) 260px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/static/e9ae97bbf2b61a48fe514cf4399a777b/ec606/sparql3.png\" srcSet=\"/static/e9ae97bbf2b61a48fe514cf4399a777b/b0673/sparql3.png 65w,/static/e9ae97bbf2b61a48fe514cf4399a777b/d9631/sparql3.png 130w,/static/e9ae97bbf2b61a48fe514cf4399a777b/ec606/sparql3.png 260w\" alt=\"\"/></picture></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"1\">{\"image\":{\"layout\":\"constrained\",\"backgroundColor\":\"#f8f8f8\",\"images\":{\"fallback\":{\"src\":\"/static/e9ae97bbf2b61a48fe514cf4399a777b/ec606/sparql3.png\",\"srcSet\":\"/static/e9ae97bbf2b61a48fe514cf4399a777b/b0673/sparql3.png 65w,\\n/static/e9ae97bbf2b61a48fe514cf4399a777b/d9631/sparql3.png 130w,\\n/static/e9ae97bbf2b61a48fe514cf4399a777b/ec606/sparql3.png 260w\",\"sizes\":\"(min-width: 260px) 260px, 100vw\"},\"sources\":[{\"srcSet\":\"/static/e9ae97bbf2b61a48fe514cf4399a777b/d8a94/sparql3.webp 65w,\\n/static/e9ae97bbf2b61a48fe514cf4399a777b/7bb94/sparql3.webp 130w,\\n/static/e9ae97bbf2b61a48fe514cf4399a777b/33c75/sparql3.webp 260w\",\"type\":\"image/webp\",\"sizes\":\"(min-width: 260px) 260px, 100vw\"}]},\"width\":260,\"height\":282},\"alt\":\"\",\"className\":\"alignnone wp-image-1945 size-full inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"1\"}</script></a></div>\n</div>\n<div></div>\n<div>\n<div><strong>Alcune considerazioni finali:</strong></div>\n<ul>\n<li>\n<div>questi sono solo piccoli esempi che si possono fare con i dati ARS, nel prossimo post presenteremo casi molto piÃ¹ complessi che prenderanno in considerazione interrogazioni a sorgenti dati multipli;</div>\n</li>\n<li>\n<div>passando dal <strong>Web di documenti</strong> al <strong>Web di dati</strong> (<em>linked-data</em>), il Web diventa <strong>machine-understandable</strong> e il tutto risulta esponenzialmente vantaggioso in termini di flessibilitÃ  e di interoperabilitÃ  semantica;</div>\n</li>\n<li>\n<div>con la pubblicazione dei dati in modalitÃ  linked il Web diventa <strong>data-centric</strong> e le possibili interrogazioni dei dati, grazie alle loro interconnessioni, sia dentro che fuori al dataset, diventano pressochÃ© infinite e delle piÃ¹ disparate;</div>\n</li>\n<li>\n<div>\n<p><strong>non ci credete?</strong> provate a reperire nel Web tradizionaleÂ <em>iÂ nomi di <strong>TUTTI</strong> i sindaci le cui cittÃ  hanno lo stesso patrono della cittÃ  collegio di elezione di un qualsiasi deputato dellâ€™ARS</em></p>\n<p>Nel prossimo post vedremo quanto sarÃ  facile farlo con OpenARS.</p>\n</div>\n</li>\n</ul>\n<div>Alcuni link per approfondire il linguaggio SPARQL</div>\n<ul>\n<li><a href=\"https://www.w3.org/2009/Talks/0615-qbe/\" target=\"_blank\" rel=\"noopener\">SPARQL By Example &#8211; A Tutorial</a></li>\n<li><a href=\"http://learningsparql.com/resources/index.html\" target=\"_blank\" rel=\"noopener\">Learning SPARQL</a></li>\n<li><a href=\"https://programminghistorian.org/en/lessons/graph-databases-and-SPARQL\" target=\"_blank\" rel=\"noopener\">Using SPARQL to access Linked Open Data</a></li>\n<li><a href=\"https://docs.data.world/tutorials/sparql/Your_First_Sparql_Query.html\" target=\"_blank\" rel=\"noopener\">Your First SPARQL Query</a></li>\n</ul>\n<div><strong>p.s.</strong> le iscrizioni al raduno sono ancora aperte. I posti sono gratuiti ma limitati. Per maggiori informazioni <a href=\"http://ods2018.opendatasicilia.it\" target=\"_blank\" rel=\"noopener\">questo</a>Â Ã¨ il sito dell&#8217;evento.</div>\n</div>\n<div></div>\n<div>Alla prossima</div>\n<div></div>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1942\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1942\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1942\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/10/18/openars-una-prima-esplorazione-dei-dati/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2018-10-18T06:14:47","author":{"node":{"name":"Giovanni Pirrotta","slug":"giovannipirrotta"}},"comments":{"nodes":[]},"categories":{"nodes":[{"name":"Dati","slug":"dati"},{"name":"eventi","slug":"eventi"},{"name":"Raduni","slug":"raduni"},{"name":"tools","slug":"tools"},{"name":"tutorial","slug":"tutorial"}]},"tags":{"nodes":[{"name":"ods18","slug":"ods18"},{"name":"openars","slug":"openars"},{"name":"semantic-web","slug":"semantic-web"},{"name":"sparql","slug":"sparql"}]},"featuredImage":{"node":{"localFile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#082838","images":{"fallback":{"src":"/static/2ca66867dc10752844e1f5ebb411863e/af3f1/sparql1.png","srcSet":"/static/2ca66867dc10752844e1f5ebb411863e/af00b/sparql1.png 100w,\n/static/2ca66867dc10752844e1f5ebb411863e/c74b3/sparql1.png 200w,\n/static/2ca66867dc10752844e1f5ebb411863e/af3f1/sparql1.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[]},"width":400,"height":87.99999999999999}}}}}},{"title":"Come abbiamo creato un Â«Read the DocsÂ» per pubblicare documenti pubblici su Docs Italia","slug":"come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia","uri":"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/","excerpt":"<p>Questa storia nasce dal Team Trasformazione Digitale dell&#8217;AgID che inizia a pubblicare documentazione della Pubblica Amministrazione su un formato online nuovo che si chiama Read the Docs. Read the Docs (RTD) Ã¨ un formato che permette di leggere testo su dispositivi mobili adattandosi alle dimensioni del display e consente di cercare parole nel testo attraverso [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1761\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1761\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1761\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<p><a href=\"https://i1.wp.com/opendatasicilia.it/wp-content/uploads/2018/04/docs-.png?ssl=1\"><div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained alignleft size-full wp-image-1763 inline-gatsby-image-wrapper\" data-reactroot=\"\"><div style=\"max-width:478px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;351&#x27; width=&#x27;478&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><picture><source type=\"image/webp\" data-srcset=\"/static/19966bb0865e8adb04dad4214840829a/ef2c4/docs-.webp 120w,/static/19966bb0865e8adb04dad4214840829a/a4794/docs-.webp 239w,/static/19966bb0865e8adb04dad4214840829a/13d20/docs-.webp 478w\" sizes=\"(min-width: 478px) 478px, 100vw\"/><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 478px) 478px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/static/19966bb0865e8adb04dad4214840829a/083d6/docs-.png\" data-srcset=\"/static/19966bb0865e8adb04dad4214840829a/986a4/docs-.png 120w,/static/19966bb0865e8adb04dad4214840829a/5ab01/docs-.png 239w,/static/19966bb0865e8adb04dad4214840829a/083d6/docs-.png 478w\" alt=\"\"/></picture><noscript><picture><source type=\"image/webp\" srcSet=\"/static/19966bb0865e8adb04dad4214840829a/ef2c4/docs-.webp 120w,/static/19966bb0865e8adb04dad4214840829a/a4794/docs-.webp 239w,/static/19966bb0865e8adb04dad4214840829a/13d20/docs-.webp 478w\" sizes=\"(min-width: 478px) 478px, 100vw\"/><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 478px) 478px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/static/19966bb0865e8adb04dad4214840829a/083d6/docs-.png\" srcSet=\"/static/19966bb0865e8adb04dad4214840829a/986a4/docs-.png 120w,/static/19966bb0865e8adb04dad4214840829a/5ab01/docs-.png 239w,/static/19966bb0865e8adb04dad4214840829a/083d6/docs-.png 478w\" alt=\"\"/></picture></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"1\">{\"image\":{\"layout\":\"constrained\",\"backgroundColor\":\"#f8f8f8\",\"images\":{\"fallback\":{\"src\":\"/static/19966bb0865e8adb04dad4214840829a/083d6/docs-.png\",\"srcSet\":\"/static/19966bb0865e8adb04dad4214840829a/986a4/docs-.png 120w,\\n/static/19966bb0865e8adb04dad4214840829a/5ab01/docs-.png 239w,\\n/static/19966bb0865e8adb04dad4214840829a/083d6/docs-.png 478w\",\"sizes\":\"(min-width: 478px) 478px, 100vw\"},\"sources\":[{\"srcSet\":\"/static/19966bb0865e8adb04dad4214840829a/ef2c4/docs-.webp 120w,\\n/static/19966bb0865e8adb04dad4214840829a/a4794/docs-.webp 239w,\\n/static/19966bb0865e8adb04dad4214840829a/13d20/docs-.webp 478w\",\"type\":\"image/webp\",\"sizes\":\"(min-width: 478px) 478px, 100vw\"}]},\"width\":478,\"height\":351},\"alt\":\"\",\"className\":\"alignleft size-full wp-image-1763 inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"1\"}</script></a></p>\n<p>Questa storia nasce dal Team Trasformazione Digitale dell&#8217;AgID che inizia a pubblicare <a href=\"https://docs.developers.italia.it/\">documentazione della Pubblica Amministrazione</a> su un formato online nuovo che si chiama <a href=\"https://readthedocs.org/\"><strong>Read the Docs</strong>.</a></p>\n<p>Read the Docs (RTD) Ã¨ un formato che permette di leggere testo su dispositivi mobili adattandosi alle dimensioni del display e consente di cercare parole nel testo attraverso uno spazio apposito.Â GiÃ  solo queste due caratteristiche lo fanno preferire al classico formato PDF usato per la maggiore nei siti web della PA. Purtroppo il PDF non si adatta ai dispositivi mobili e non consente un agevole ricerca di testo al suo interno.</p>\n<p>Per arrivare alla pubblicazione di documenti su RTD Ã¨ necessario compilare file nel linguaggio <strong>RST</strong> (reStructruredText) e renderli disponibili in progetti dentro il repository di Github.</p>\n<p>Dopo che il TeamÂ Trasformazione Digitale inizia la pubblicazione di documenti della PA su RTD, <a href=\"http://bit.do/readthedocs-entipubblici\">alcuni dipendenti di PA cominciamo a pubblicare documenti pubblici su questo formato</a>Â  e il risultato Ã¨ senza dubbio molto gradevole e comodo ai fini della lettura su ogni dimensione di schermo.</p>\n<p>Come ogni fenomeno nuovo c&#8217;Ã¨ sempre l&#8217;aspetto e il ruolo pionieristico che Ã¨ importante per fare da traino per gli altri. Ed Ã¨ cosÃ¬ che ci ritroviamo <strong>Ciro Spataro</strong> (Comune di Palermo) e <strong>Pablo Persico</strong> (CittÃ  Metropolitana di Napoli) a scambiarci idee e proposte per pubblicare documenti pubblici su Read the Docs, e fra un messaggio e un altro arriviamo alla conclusione condivisa che sarebbe utile e bello costruire un <strong>tutorial sulle modalitÃ  di costruzione di un documento da pubblicare Read the Docs</strong>: da dove partire e tutte le procedure da seguire. Cominciamo a lavorarci condividendo un Google doc all&#8217;inizio, e strutturiamo didatticamente il tutorial in 2 parti: una in cui si spiega una procedura per chi non Ã¨ molto addentro alle procedure di compilazione e versionamento dei documenti e una per i piÃ¹ esperti. Questo al fine di arrivare ad ogni tipologia di dipendente pubblico in fatto di competenze digitali.</p>\n<p>All&#8217;iniziativa prende parteÂ <strong>Andrea Borruso</strong> per la supervisione dell&#8217;intero lavoro didattico, vista la sua attitudine e piacere a &#8220;spiegare bene&#8221; le cose.</p>\n<p>Quello che ci ha preso maggiormente in questa iniziativa Ã¨ stata la voglia di vedere i documenti della Pubblica Amministrazione visualizzati come mai ad oggi Ã¨ stato fatto. Una sorta di vendetta contro un PDF scomodo ðŸ˜‰</p>\n<p>DalÂ Read the Docs creato Ã¨ possibile ottenere, automaticamente dalla stessa piattaforma, il documento in formato <strong>PDF</strong>,Â  <strong>EPUB</strong><b>Â </b>ed<strong> HTML</strong> (zippato). Quindi per coloro che non possono rinunciare al PDF non c&#8217;Ã¨ la possibilitÃ  di alcun trauma psicologico.</p>\n<p>Il resto lo potete leggere nel Read the DocsÂ <a href=\"http://come-creare-guida.readthedocs.io\">http://come-creare-guida.readthedocs.io</a></p>\n<p>&nbsp;</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1761\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1761\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1761\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/04/03/come-abbiamo-creato-un-read-the-docs-per-pubblicare-documenti-pubblici-su-docs-italia/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2018-04-03T10:45:08","author":{"node":{"name":"Ciro Spataro","slug":"cirospat"}},"comments":{"nodes":[]},"categories":{"nodes":[{"name":"Amministrazione trasparente","slug":"amministrazione-trasparente"},{"name":"community","slug":"community"},{"name":"Esperimenti","slug":"esperimenti"},{"name":"Iniziative","slug":"iniziative"},{"name":"tutorial","slug":"tutorial"}]},"tags":{"nodes":[{"name":"AGID","slug":"agid"},{"name":"Github","slug":"github"},{"name":"MD","slug":"md"},{"name":"PA","slug":"pa"},{"name":"pdf","slug":"pdf"},{"name":"read the docs","slug":"read-the-docs"},{"name":"RST","slug":"rst"},{"name":"Team Trasformazione Digitale","slug":"team-trasformazione-digitale"},{"name":"tutorial","slug":"tutorial"}]},"featuredImage":null},{"title":"Leggere, interrogare e trasformare file XML da riga di comando","slug":"leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando","uri":"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/","excerpt":"<p>Intro Il comune di Palermo ha pubblicato i dati pubblici e aperti sulle elezioni comunali dell&#8217;11 giugno 2017 in formatoÂ XML, con uno schema descritto inÂ questo file. Qui sotto ad esempio la struttura di uno degli oltre 200 file pubblicati. L&#8217;XMLÂ Ã¨ uno dei formati classici di pubblicazione di dati aperti, ma non Ã¨ un formato per [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1686\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1686\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1686\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<h1 id=\"intro\">Intro</h1>\n<p>Il comune di Palermo ha pubblicato i <a href=\"https://docs.google.com/spreadsheets/d/1gKrvPb82AAIi0lA_vJGdAhm0fd-Fp_hC5MiFhjhjbp8/edit?usp=sharing\">dati pubblici e aperti</a> sulle elezioni comunali dell&#8217;11 giugno 2017 in formatoÂ <code>XML</code>, con uno schema descritto inÂ <a href=\"https://www.comune.palermo.it/js/server/uploads/opendata/MetaDatiElezioniAmministrative.pdf\">questo file</a>.</p>\n<p>Qui sotto ad esempio la struttura di uno degli oltre 200 file pubblicati.</p>\n<p><img class=\"aligncenter\" src=\"https://i2.wp.com/i.imgur.com/yvtRPCD.png?w=1140\" alt=\"\" data-recalc-dims=\"1\" /></p>\n<p>L&#8217;<code>XML</code>Â Ã¨ uno dei formati classici di pubblicazione di dati aperti, ma non Ã¨ un formato per tutti. Molti utenti infatti non sono in grado di esaminarli.<br />\nPer la sua natura Ã¨ facilmente leggibile da un calcolatore e ci sono varie modalitÃ  per farlo.</p>\n<p>E con un&#8217;<em>utility</em>Â specializzata (XMLStarlet) e con un piccolo comando come questo di sotto, Ã¨ possibile trasformareÂ <a href=\"http://comunali2017.comune.palermo.it/SEZ_3_82053_L12.xml\">questo</a>Â file XML in una &#8220;piatta&#8221; tabella con tutti i dati sui voti dei candidati di una lista al consiglio comunale, per ogni sezione elettorale (40 candidati per 600 sezioni, quindi 24000 record).</p>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">xmlstarletÂ selÂ &#8211;netÂ -tÂ -mÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>//SV/V0/V1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â \\</span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">-vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@VOTIVALIDI_C1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â \\</span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">-vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -nÂ \\</span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">http://comunali2017.comune.palermo.it/SEZ_3_82053_L12.xml</span></div>\n<p>&nbsp;</p>\n<p>Qui sotto lo vedete in azione:</p>\n<p><img class=\"aligncenter\" src=\"https://i1.wp.com/media.giphy.com/media/wabofHvckuI5a/giphy.gif?w=1140&#038;ssl=1\" alt=\"\" data-recalc-dims=\"1\" /></p>\n<p>I dati sui risultati delle liste elettorali hanno questa struttura:</p>\n<div class=\"line\"><span class=\"syntax--text syntax--xml\"><span class=\"syntax--meta syntax--tag syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&lt;</span><span class=\"syntax--entity syntax--name syntax--tag syntax--localname syntax--xml\">SV</span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NUMERO</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NOME</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>SEZIONEÂ 1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NOMEBREVE</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>SEZ.Â 1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">UBICAZIONE</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NUM_ZONA</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NUM_ZONA2</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">TOTVOT</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>540<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">TOTVOTM</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>255<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">TOTVOTF</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>285<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">FLZEROVOT</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>N<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">ELETTORI</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>1112<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">ELETTORIM</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>556<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">ELETTORIF</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>556<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">CONFERMATO</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>S<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VOTIVALIDI_C0</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>54<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VOTIVALIDI_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>37<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VCAS_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>0&#8243;Â VCNAS_C1=&#8221;0&#8243;Â VOTI_SOLO_C1=&#8221;0&#8243;Â VOTIVALIDI_C2=&#8221;0&#8243;Â VCAS_C2=&#8221;0&#8243;Â VCNAS_C2=&#8221;0&#8243;Â VCNAS_TOT=&#8221;0&#8243;Â VOTI_SOLO_C2=&#8221;0&#8243;Â VOTI_NULLI_SOLO_C2=&#8221;0&#8243;Â VOTI_NULLI=&#8221;0&#8243;Â NULLE=&#8221;21&#8243;Â BIANCHE=&#8221;8&#8243;Â CONFCONS=&#8221;S&#8221;Â MAXVOTVAL=&#8221;9&#8243;&gt;</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--xml\">Â Â Â Â Â Â Â Â <span class=\"syntax--meta syntax--tag syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&lt;</span><span class=\"syntax--entity syntax--name syntax--tag syntax--localname syntax--xml\">V0</span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NUMERO</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>12<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VOTIVALIDI_C0</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>54<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">TOT_VOTIVALIDI_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>37<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">TOT_VOTISOLO_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>0<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&gt;</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--xml\">Â Â Â Â Â Â Â Â Â Â Â Â <span class=\"syntax--meta syntax--tag syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&lt;</span><span class=\"syntax--entity syntax--name syntax--tag syntax--localname syntax--xml\">V1</span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NUMERO</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VOTIVALIDI_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>5<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VOTISOLO_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>0<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VOTCONASS_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>0<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">VOTCONNONASS_C1</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>0<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">CIFRAIND</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>59<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">TOT_VOTIVALIDI_C2</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>0<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">TOT_VOTISOLO_C2</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>0<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">/&gt;</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--xml\">Â Â Â Â Â Â Â Â Â Â Â Â <span class=\"syntax--meta syntax--tag syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&lt;</span><span class=\"syntax--entity syntax--name syntax--tag syntax--localname syntax--xml\">V1</span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NUMERO</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>2<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â &#8230;<span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">/&gt;</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--xml\">Â Â Â Â Â Â Â Â Â Â Â Â <span class=\"syntax--meta syntax--tag syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&lt;</span><span class=\"syntax--entity syntax--name syntax--tag syntax--localname syntax--xml\">V1</span>Â <span class=\"syntax--entity syntax--other syntax--attribute-name syntax--localname syntax--xml\">NUMERO</span>=<span class=\"syntax--string syntax--quoted syntax--double syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--xml\">&#8220;</span>3<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--xml\">&#8220;</span></span>Â &#8230;<span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">/&gt;</span></span>Â Â Â Â Â Â Â Â </span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--xml\">Â Â Â Â Â Â Â Â <span class=\"syntax--meta syntax--tag syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&lt;/</span><span class=\"syntax--entity syntax--name syntax--tag syntax--localname syntax--xml\">V0</span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&gt;</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--xml\"><span class=\"syntax--meta syntax--tag syntax--xml\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&lt;/</span><span class=\"syntax--entity syntax--name syntax--tag syntax--localname syntax--xml\">SV</span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--xml\">&gt;</span></span></span></div>\n<p>&nbsp;</p>\n<p><code>SV</code>Â Ã¨ la sezione elettorale con il suo numero identificativo (e altri attributi), che contiene al suo interno i dati suÂ <code>V0</code>Â che rappresenta la lista (in questo caso la 12, quella del &#8220;Movimento 5 stelle&#8221;), che contiene al suo internoÂ <code>V1</code>, ovvero i dati sui candidati al consiglio comunale. Con questa struttura gerarchicaÂ <code>SV&gt;V0&gt;V1</code>.</p>\n<p>Il comando di sopra nel dettaglio:</p>\n<ul>\n<li><code>sel --net -t -m</code>, abilito la selezione (<code>sel</code>) su un file remoto (<code>--net</code>), impostando un template (<code>-t</code>) per &#8220;mappare&#8221; gli elementi che corrispondono (&#8220;matchano&#8221;Â <code>-m</code>) alla seguenteÂ <em>query</em>Â XPATH;</li>\n<li><code>\"//SV/V0/V1\"</code>, i candidati al consiglio;</li>\n<li><code>\"@NUMERO\"</code>, l&#8217;attributo con il numero identificativo del candidato;</li>\n<li><code>-o \",\"</code>, per inserire un separatore di testo;</li>\n<li><code>-v \"@VOTIVALIDI_C1\"</code>, l&#8217;attributo con i voti validi del candidato;</li>\n<li><code>-o \",\"</code>, per inserire un separatore di testo;</li>\n<li><code>-v \"../@NUMERO\"</code>, mi muovo verso l&#8217;alto nella gerarchia dell&#8217;<code>XML</code>Â di un gradino conÂ <code>..</code>, quindi vado inÂ <code>V0</code>Â (la lista) e recupero l&#8217;identificativo numerico della lista;</li>\n<li><code>-o \",\"</code>, per inserire un separatore di testo;</li>\n<li><code>-v \"../../@NUMERO\"</code>, mi muovo verso l&#8217;alto nella gerarchia dell&#8217;<code>XML</code>Â di due gradini conÂ <code>../..</code>, quindi vado inÂ <code>SV</code>Â (il seggio) e recupero l&#8217;identificativo numerico del seggio;</li>\n<li><code>-n</code>, per inserire un&#8217;andata a capo per ogni risultato ottenuto;</li>\n<li><a href=\"http://.../SEZ_3_82053_L12.xml\">http://&#8230;/SEZ_3_82053_L12.xml</a>Â Ã¨ l&#8217;URL del file XML.</li>\n</ul>\n<p>In output nella shell avrÃ²:</p>\n<div class=\"line\"><span class=\"syntax--text syntax--plain\"><span class=\"syntax--meta syntax--paragraph syntax--text\">1,5,12,1</span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--plain\"><span class=\"syntax--meta syntax--paragraph syntax--text\">2,9,12,1</span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--plain\"><span class=\"syntax--meta syntax--paragraph syntax--text\">3,2,12,1</span></span></div>\n<div class=\"line\"><span class=\"syntax--text syntax--plain\"><span class=\"syntax--meta syntax--paragraph syntax--text\">&#8230;,&#8230;,&#8230;,&#8230;</span></span></div>\n<p>Ovvero</p>\n<table>\n<thead>\n<tr>\n<th>numeroCandidato</th>\n<th>voti</th>\n<th>numeroLista</th>\n<th>sezione</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>5</td>\n<td>12</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>9</td>\n<td>12</td>\n<td>1</td>\n</tr>\n<tr>\n<td>3</td>\n<td>2</td>\n<td>12</td>\n<td>1</td>\n</tr>\n<tr>\n<td>&#8230;</td>\n<td>&#8230;</td>\n<td>&#8230;</td>\n<td>&#8230;</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"creare-dei-file-csv-con-i-dati-per-tutte-le-liste\">Creare dei file CSV con i dati per tutte le liste</h1>\n<p>Ho pensato che possa essere molto interessante fare un esempio piÃ¹ ricco e completo e creare uno scriptÂ <code>bash</code>Â per:</p>\n<ul>\n<li>scaricare tutti i fileÂ <code>XML</code>Â delle 18 liste;</li>\n<li>estrarre da ognuno l&#8217;anagrafica dei candidati consiglieri;</li>\n<li>estrarre da ognuno il numero di voti, per ogni sezione, di ogni candidato al consiglio;</li>\n<li>fare ilÂ <em>join</em>Â &#8211; unire &#8211; le info sul numero di voti, con l&#8217;anagrafica dei candidati consiglieri, e creare un fileÂ <code>CSV</code>Â per ogni lista;</li>\n<li>unire tutti i fileÂ <code>CSV</code>Â e produrre anche un unico file con il numero di voti di ogni candidato, per ogni lista, per ogni sezione.</li>\n</ul>\n<h2 id=\"requisiti\">Requisiti</h2>\n<p>Il prodotto finale Ã¨ uno scriptÂ <code>BASH</code>, quindi bisogna avere a disposizione un sistema compatibile con questo linguaggio (lo sono essenzialmente tutti).</p>\n<p>Richiede treÂ <em>utility</em>:</p>\n<ul>\n<li>l&#8217;immancabile cURL, per scaricare i file;</li>\n<li><a href=\"http://xmlstar.sourceforge.net/download.php\">XMLStarlet</a>Â per interrogare i fileÂ <code>XML</code>Â e trasformarli in fileÂ <code>CSV</code>;</li>\n<li><a href=\"http://csvkit.readthedocs.io/\">csvkit</a>Â per fare ilÂ <em>join</em>Â e ilÂ <em>merge</em>Â deiÂ <code>CSV</code>Â scaricati.</li>\n</ul>\n<p>Richiede unaÂ <strong>conoscenza di base</strong>Â (e/o la volontÃ /possibitÃ  di farserla) su:</p>\n<ul>\n<li><a href=\"https://www.w3schools.com/xml/xpath_intro.asp\">XPATH</a>, per estrarre i dati (per interrogare) i file XML;</li>\n<li><a href=\"https://github.com/jlevy/the-art-of-command-line/blob/master/README-it.md\">la linea di comando</a>, perchÃ© Ã¨ un po&#8217; il campo di gioco di queste modalitÃ  di accesso e modifica di file;</li>\n<li><a href=\"http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html#toc\">BASH</a>, che Ã¨ il linguaggio dello script finale;</li>\n<li>aprire i file XML del comune con un buon editor di testo, guardarli un poâ€™ e comprenderne la struttura.</li>\n</ul>\n<h2 id=\"lo-script\">Lo script</h2>\n<p>Lo script per intero Ã¨ piÃ¹ in basso. A seguire un esploso delle varie parti che lo compongono.</p>\n<p>La prima cosa che viene eseguita nello script Ã¨ il download dei file delle liste. Queste sono 18 ed Ã¨ comodo scaricarle con un cicloÂ <code>for ... loop</code>Â che lo fa 18 volte per noi.</p>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\">Â Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â curlÂ -sÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink\">http://comunali2017.comune.palermo.it/SEZ_3_82053_L</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>.xml<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.xml<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<p>&nbsp;</p>\n<p>Poi da ognuno dei 18 fileÂ <code>XML</code>Â vengono estratti i dati anagrafici e i dati per sezione, sempre con un cicloÂ <code>for</code>.<br />\nA ogni file viene aggiunta anche un&#8217;intestazione di colonne.</p>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â scaricoÂ l&#8217;anagraficaÂ diÂ ogniÂ candidatoÂ diÂ ogniÂ lista</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â xmlstarletÂ selÂ -tÂ -mÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>//C0/C1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@NOME<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../@NOME<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -nÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.xmlÂ <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â anagraficaLista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txt<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â sedÂ -iÂ <span class=\"syntax--string syntax--quoted syntax--single syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8216;</span>1s/^/numeroCandidato,nomeCandidato,numeroLista,nomeLista\\n/<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8216;</span></span>Â anagraficaLista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">&amp;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â scaricoÂ iÂ votiÂ diÂ ogniÂ candidatoÂ diÂ ogniÂ listaÂ perÂ ogniÂ sezione</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â xmlstarletÂ selÂ -tÂ -mÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>//SV/V0/V1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@VOTIVALIDI_C1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -nÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.xmlÂ <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â listaSezioni_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â sedÂ Â -iÂ <span class=\"syntax--string syntax--quoted syntax--single syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8216;</span>1s/^/numeroCandidato,voti,numeroLista,sezione\\n/<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8216;</span></span>Â listaSezioni_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">&amp;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<p>&nbsp;</p>\n<p>I file di anagrafica hanno questa struttura:</p>\n<table>\n<thead>\n<tr>\n<th>numeroCandidato</th>\n<th>nomeCandidato</th>\n<th>numeroLista</th>\n<th>nomeLista</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>GELARDA IGOR DETTO GERARDA DETTO GERALDA</td>\n<td>12</td>\n<td>MOVIMENTO 5 STELLE</td>\n</tr>\n<tr>\n<td>2</td>\n<td>ARGIROFFI GIULIA</td>\n<td>12</td>\n<td>MOVIMENTO 5 STELLE</td>\n</tr>\n<tr>\n<td>3</td>\n<td>CAPARROTTA GIANCARLO DETTO CAPAROTTA</td>\n<td>12</td>\n<td>MOVIMENTO 5 STELLE</td>\n</tr>\n</tbody>\n</table>\n<p>Mentre quelli con i dati per sezione:</p>\n<table>\n<thead>\n<tr>\n<th>numeroCandidato</th>\n<th>voti</th>\n<th>numeroLista</th>\n<th>sezione</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>5</td>\n<td>12</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>9</td>\n<td>12</td>\n<td>1</td>\n</tr>\n<tr>\n<td>3</td>\n<td>2</td>\n<td>12</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n<p>Poi viene fatto ilÂ <em>join</em>Â tra anagrafica e dati per sezione:</p>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â csvsqlÂ &#8211;queryÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>selectÂ *Â fromÂ Â listaSezioni_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>Â LEFTÂ JOINÂ anagraficaLista_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>Â ONÂ listaSezioni_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>.numeroCandidato=anagraficaLista_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>.numeroCandidato<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â listaSezioni_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ anagraficaLista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â lista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.csv<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<div></div>\n<p>Per ogni lista viene prodotto un file con nomeÂ <code>lista_NumeroLista.csv</code>, con questa struttura (ci sono delle colonne duplicate, che potrei rimuovere in fase diÂ <em>join</em>):</p>\n<table>\n<thead>\n<tr>\n<th>numeroCandidato</th>\n<th>voti</th>\n<th>numeroLista</th>\n<th>sezione</th>\n<th>numeroCandidato</th>\n<th>nomeCandidato</th>\n<th>numeroLista</th>\n<th>nomeLista</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>5</td>\n<td>12</td>\n<td>1</td>\n<td>1</td>\n<td>GELARDA IGOR DETTO GERARDA DETTO GERALDA</td>\n<td>12</td>\n<td>MOVIMENTO 5 STELLE</td>\n</tr>\n<tr>\n<td>2</td>\n<td>9</td>\n<td>12</td>\n<td>1</td>\n<td>2</td>\n<td>ARGIROFFI GIULIA</td>\n<td>12</td>\n<td>MOVIMENTO 5 STELLE</td>\n</tr>\n<tr>\n<td>3</td>\n<td>2</td>\n<td>12</td>\n<td>1</td>\n<td>3</td>\n<td>CAPARROTTA GIANCARLO DETTO CAPAROTTA</td>\n<td>12</td>\n<td>MOVIMENTO 5 STELLE</td>\n</tr>\n</tbody>\n</table>\n<p>E infine viene creato anche un unico fileÂ <code>CSV</code>Â di insieme (scaricabile daÂ <a href=\"https://query.data.world/s/ayn93vioydu7l9heo64wg228w\">qui</a>), con i dati per tutti i consiglieri di tutte le liste, per ogni sezione (senza le colonne duplicate). Sono 638 candidati per 600 sezioni per un totale di 382800 record.</p>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">csvstackÂ <span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\">*</span>.csvÂ <span class=\"syntax--keyword syntax--operator syntax--pipe syntax--shell\">|</span>Â csvcutÂ -cÂ 1,2,3,4,6,8Â <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â liste.csv</span></div>\n<div></div>\n<p>Quindi avrÃ² in output 1 fileÂ <code>CSV</code>Â con i dati per ogni lista e quello soprastante, per totale di 19 fileÂ <code>CSV</code>Â (encodingÂ <code>UTF-8</code>Â e come separatore laÂ <code>,</code>).</p>\n<p>Lo script di poche righe (al netto dei commenti) Ã¨ quello di sotto, tutto realizzato con oggetti <em>free </em>e<em> open-source</em>.</p>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shebang syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shebang syntax--shell\">#!</span>/bin/bash</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â RequisitiÂ #</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â &#8211;Â avereÂ unÂ sistemaÂ inÂ cuiÂ Ã¨Â possibileÂ eseguireÂ unoÂ scriptÂ bash;</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â &#8211;Â l&#8217;utilityÂ XMLStarletÂ <span class=\"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink\">http://xmlstar.sourceforge.net/download.php</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â &#8211;Â l&#8217;utilityÂ csvkitÂ <span class=\"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink\">http://csvkit.readthedocs.io/</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â attivoÂ laÂ modalitÃ Â diÂ debug</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\">set</span>Â -x</span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â cancelloÂ fileÂ csvÂ eÂ xmlÂ preÂ esistentiÂ nellaÂ cartellaÂ inÂ cuiÂ lancioÂ loÂ script</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">rmÂ -RÂ <span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\">*</span>.csv</span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â scaricoÂ tuttiÂ iÂ datiÂ delleÂ 18Â liste</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â curlÂ -sÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink\">http://comunali2017.comune.palermo.it/SEZ_3_82053_L</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>.xml<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.xml<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span><span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â scaricoÂ l&#8217;anagraficaÂ diÂ ogniÂ candidatoÂ diÂ ogniÂ lista</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â xmlstarletÂ selÂ -tÂ -mÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>//C0/C1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@NOME<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../@NOME<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -nÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.xmlÂ <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â anagraficaLista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txt<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â sedÂ -iÂ <span class=\"syntax--string syntax--quoted syntax--single syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8216;</span>1s/^/numeroCandidato,nomeCandidato,numeroLista,nomeLista\\n/<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8216;</span></span>Â anagraficaLista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">&amp;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â scaricoÂ iÂ votiÂ diÂ ogniÂ candidatoÂ diÂ ogniÂ listaÂ perÂ ogniÂ sezione</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â xmlstarletÂ selÂ -tÂ -mÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>//SV/V0/V1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>@VOTIVALIDI_C1<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -oÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>,<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -vÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>../../@NUMERO<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â -nÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.xmlÂ <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â listaSezioni_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â sedÂ Â -iÂ <span class=\"syntax--string syntax--quoted syntax--single syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8216;</span>1s/^/numeroCandidato,voti,numeroLista,sezione\\n/<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8216;</span></span>Â listaSezioni_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">&amp;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â faccioÂ ilÂ joinÂ traÂ iÂ datiÂ perÂ sezioneÂ eÂ l&#8217;anagraficaÂ deiÂ candidati</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â l&#8217;outputÂ Ã¨Â unÂ fileÂ diÂ dettaglioÂ inÂ formatoÂ CSVÂ perÂ ogniÂ lista</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\">for</span>Â <span class=\"syntax--variable syntax--other syntax--loop syntax--shell\">i</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">in</span>Â {1..18}<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">do</span>Â csvsqlÂ &#8211;queryÂ <span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span>selectÂ *Â fromÂ Â listaSezioni_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>Â LEFTÂ JOINÂ anagraficaLista_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>Â ONÂ listaSezioni_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>.numeroCandidato=anagraficaLista_<span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span>.numeroCandidato<span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>Â listaSezioni_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ anagraficaLista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.txtÂ <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â lista_<span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\">&#8220;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\">$</span>i</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\">&#8220;</span></span>.csv<span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\">;</span>Â <span class=\"syntax--keyword syntax--control syntax--shell\">done</span></span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â faccioÂ ilÂ mergeÂ diÂ tuttiÂ iÂ CSVÂ eÂ producoÂ unÂ unicoÂ file</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â conÂ tuttiÂ iÂ votiÂ perÂ candidatoÂ perÂ sezioneÂ diÂ ogniÂ lista</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">csvstackÂ <span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\">*</span>.csvÂ <span class=\"syntax--keyword syntax--operator syntax--pipe syntax--shell\">|</span>Â csvcutÂ -cÂ 1,2,3,4,6,8Â <span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\">&gt;</span>Â liste.csv</span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">Â </span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\">#</span>Â cancelloÂ fileÂ cheÂ nonÂ miÂ sonoÂ piÃ¹Â utili</span></span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">rmÂ -RÂ <span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\">*</span>.txt</span></div>\n<div class=\"line\"><span class=\"syntax--source syntax--shell\">rmÂ -RÂ <span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\">*</span>.xml</span></div>\n<h2>Libro consigliato</h2>\n<p>Per entrare nel mondo divertentissimo ed efficiente della â€œriga di comandoâ€ mi sento di consigliare il bel â€œ<a href=\"http://shop.oreilly.com/product/0636920032823.do?cmp=af-strata-books-videos-product_cj_9781491947852_%25zp\">Data Science at the Command Line</a>â€Â . Ãˆ un libro per tutti, di facile lettura e pieno di esempi utili.</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1686\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1686\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1686\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2017/06/16/leggere-interrogare-e-trasformare-file-xml-da-riga-di-comando/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2017-06-16T12:27:28","author":{"node":{"name":"Andrea Borruso","slug":"andreaborruso"}},"comments":{"nodes":[{"content":"<p>Sinceramente utilizzo molto di piÃ¹ csvkit, per me Ã¨ stato molto importante venirne a conoscenza. Molto.<br />\nXMLStarlet non ho avuto modo di testarlo nel mondo reale, purtroppo il mio background/skillset non mi permette approcciare in maniera immediata l&#8217;analisi dei dati o lo &#8220;scraping&#8221; (che Ã© veramente dove voglio arrivare) e vado a passo lento ma costante. Una della mie principali mancanze Ã¨ la impossibilitÃ  di raggionare con le regex e sapere pensare in XPATH, che anche se Ã¨ certamente una cavolata (sopratutto XPATH) e bisognerebbe solo dedicarli un pochitino di tempo, quest&#8217;ultimo non so da dove tirarlo fuori. Senza grep/xpath non so dove mettere le mani.<br />\nPer adesso leggo e seguo con molto interese tutto quello che pubblicate e mi sto facendo il primer sulla command line su coursera. Se ci riesco mi ci metto serio con il libro &#8220;Data Science at The command line&#8221; questa estate, e forse a settembre ti racconterÃ² una storia diversa.<br />\nUn bel po di roba da digerire per un Visual Designer wannabe. ðŸ˜‰</p>\n"},{"content":"<p>Roberto hai usato XMLstarlet? Che te ne pare?</p>\n"},{"content":"<p>Muchas Gracias ðŸ™‚</p>\n"}]},"categories":{"nodes":[{"name":"tutorial","slug":"tutorial"}]},"tags":{"nodes":[{"name":"bash","slug":"bash"},{"name":"elezioni","slug":"elezioni"},{"name":"palermo","slug":"palermo"},{"name":"xml","slug":"xml"}]},"featuredImage":null}]}},"pageContext":{"name":"tutorial","slug":"tutorial"}},
    "staticQueryHashes": ["67603594"]}