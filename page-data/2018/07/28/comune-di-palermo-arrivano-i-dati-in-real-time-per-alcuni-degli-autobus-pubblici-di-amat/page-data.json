{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/",
    "result": {"data":{"allWpPost":{"nodes":[{"title":"Comune di Palermo: arrivano i dati in real time per alcuni degli autobus pubblici di AMAT","slug":"comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat","uri":"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/","excerpt":"<p>AMAT, la municipalizzata del Comune di Palermo, collabora da tempo con Moovit per i dati i real time di alcuni degli autobus della rete della città, visibili nella app dell&#8217;azienda. Da oggi, tramite API e per 20 linee, sarà possibile in tempo reale accedere ai dati relativi agli arrivi di una linea del Trasporto Pubblico Locale ad una [&hellip;]</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1867\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1867\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1867\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","content":"<p><strong>AMAT</strong>, la municipalizzata del Comune di Palermo, collabora da tempo con <strong>Moovit </strong>per i dati i <em>real time</em> di alcuni degli autobus della rete della città, visibili nella <em>app </em>dell&#8217;azienda.</p>\n<p>Da oggi, tramite <strong>API</strong> e per 20 linee, sarà possibile in <strong>tempo reale</strong> accedere ai dati relativi agli <strong>arrivi</strong> di una <strong>linea</strong> del Trasporto Pubblico Locale ad una <strong>fermata</strong>.</p>\n<p>Le linee sono: 100, 101, 102, 106, 108, 109, 124, 226, 246, 304, 307, 309, 327, 422, 619, 603, 704, 731, Navette Arancione centro storico ed Express.</p>\n<p>Sarà possibile rispondere in modo programmatico a una domanda di questo tipo: &#8220;<em>Mostrami i prossimi arrivi della linea 101 alla fermata Cavour</em>&#8220;.</p>\n<p>Sarà necessario di base fornire la API KEY del servizio, una coppia di coordinate dell&#8217;area del comune (per individuare il comune di Palermo), il numero della linea da monitorare e la fermata per cui si vuole il tempo di attesa (qui la <a href=\"https://docs.google.com/document/d/1LijnN51UeTa3A7RxUyDy1QBXud076dn5kGxMMN4_5KY\" target=\"_blank\" rel=\"noopener\">documentazione ufficiale</a>).</p>\n<p>Ecco un esempio di query con cURL:</p>\n<pre class=\"lang:zsh decode:true \">curl --request POST --url https://api.moovitapp.com/services-app/services/EX/API/GetLineStopArrivals \\\n--header 'api_key: amat_palermo_2317885288' \\\n--header 'content-type: application/json' \\\n--data '{\"lineNumber\":\"101\",\"stopName\":\"cavour\",\"location\":{\"lat\":38.115093,\"lon\":13.356520}}'</pre>\n<p>Che darà come risultato qualcosa con questa struttura:</p>\n<pre class=\"lang:default decode:true\">{\n  \"arrivals\": [\n    {\n      \"lineCaption\": \"101\",\n      \"arrivalMinutes\": 0,\n      \"isRt\": \"true\",\n      \"agency\": \"AMAT Palermo S.p.A.\",\n      \"stopName\": \"Cavour\",\n      \"currentLocation\": {\n        \"lat\": 38.121583,\n        \"lon\": 13.357709\n      }\n    },\n    {\n      \"lineCaption\": \"101\",\n      \"arrivalMinutes\": 8,\n      \"isRt\": \"true\",\n      \"agency\": \"AMAT Palermo S.p.A.\",\n      \"stopName\": \"Cavour\",\n      \"currentLocation\": {\n        \"lat\": 38.133105,\n        \"lon\": 13.35002\n      }\n    },\n    {\n      \"lineCaption\": \"101\",\n      \"arrivalMinutes\": 11,\n      \"isRt\": \"true\",\n      \"agency\": \"AMAT Palermo S.p.A.\",\n      \"stopName\": \"Cavour\",\n      \"currentLocation\": {\n        \"lat\": 38.137134,\n        \"lon\": 13.348074\n      }\n    }\n  ]\n}</pre>\n<p>La notizia è appena arrivata (la trovate in basso, nella descrizione di <a href=\"https://opendata.comune.palermo.it/opendata-dataset.php?dataset=1038\" target=\"_blank\" rel=\"noopener\">questo dataset</a>) e non abbiamo fatto ancora nessun <em>test </em>serio, ma è <strong>un&#8217;ottima notizia</strong>. Perché avere in modo programmatico i tempi di attesa a una fermata per una linea, può <strong>generare servizi</strong> di gran comodità <strong>per i cittadini</strong> e <strong>per tutto l&#8217;indotto legato ai trasporti</strong>.<br />\nAlmeno per quella parte di città coperta dalle linee per cui il servizio è attivo (chiederemo ad AMAT quali saranno le evoluzioni del servizio).</p>\n<p>Creare un&#8217;<em>app</em> per <em>smartphone</em> per fotografare dei <em>QR code</em> da mettere in ogni fermata, che fatta la foto restituisca quando passeranno le linee servite, o un&#8217;<em>app </em>per <em>Google assistant</em> a cui chiedere &#8220;Ok google, quando passa da qui il 101?&#8221;, o un bot per Telegram o Facebook Messenger, è a questo punto cosa abbastanza semplice.</p>\n<p>Una nota a caldo: chiediamo ad AMAT e al comune di pubblicare via API anche l&#8217;<strong>elenco delle linee per cui è abilitato questo servizio</strong>. Nel tempo <a href=\"http://amat.pa.it/amat-e-moovit-portano-il-tempo-reale-alle-fermate-di-palermo/\">cambieranno</a> e sarà essenziale per gli sviluppatori avere un modo per essere avvisati automaticamente di queste variazioni.</p>\n<p>A partire dal giugno del 2019 ci sarà il progetto <a href=\"http://www.ponmetro.it/progetto/?codice=PA2.2.1.d\">City Compass</a> (grazie Marco Lombardo per la segnalazione) &#8211; <em>Piattaforma di gestione e tracciamento in tempo reale flotta autobus e Sistema integrato a servizio del cittadino per la previsione di arrivo dei mezzi di trasporto pubblico</em> &#8211;  ma questa è un&#8217;altra storia.</p>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-icon sd-sharing\"><h3 class=\"sd-title\">Condividi:</h3><div class=\"sd-content\"><ul><li class=\"share-twitter\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-twitter-1867\" class=\"share-twitter sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=twitter\" target=\"_blank\" title=\"Fai clic qui per condividere su Twitter\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su Twitter (Si apre in una nuova finestra)</span></a></li><li class=\"share-facebook\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-facebook-1867\" class=\"share-facebook sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=facebook\" target=\"_blank\" title=\"Fai clic per condividere su Facebook\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Facebook (Si apre in una nuova finestra)</span></a></li><li><a href=\"#\" class=\"sharing-anchor sd-button share-more\"><span>Altro</span></a></li><li class=\"share-end\"></li></ul><div class=\"sharing-hidden\"><div class=\"inner\" style=\"display: none;\"><ul><li class=\"share-linkedin\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"sharing-linkedin-1867\" class=\"share-linkedin sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=linkedin\" target=\"_blank\" title=\"Fai clic qui per condividere su LinkedIn\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic qui per condividere su LinkedIn (Si apre in una nuova finestra)</span></a></li><li class=\"share-telegram\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-telegram sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=telegram\" target=\"_blank\" title=\"Fai clic per condividere su Telegram\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su Telegram (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li><li class=\"share-jetpack-whatsapp\"><a rel=\"nofollow noopener noreferrer\" data-shared=\"\" class=\"share-jetpack-whatsapp sd-button share-icon no-text\" href=\"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/?share=jetpack-whatsapp\" target=\"_blank\" title=\"Fai clic per condividere su WhatsApp\"><span></span><span class=\"sharing-screen-reader-text\">Fai clic per condividere su WhatsApp (Si apre in una nuova finestra)</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div></div>","date":"2018-07-28T08:19:06","author":{"node":{"name":"Redazione Open Data Sicilia"}},"comments":{"nodes":[]},"featuredImage":{"node":{"localFile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#383838","images":{"fallback":{"src":"/static/35fffa8867f64f98d0fa39d7d1d0b6c2/e640c/amat-1.jpg","srcSet":"/static/35fffa8867f64f98d0fa39d7d1d0b6c2/5f687/amat-1.jpg 256w,\n/static/35fffa8867f64f98d0fa39d7d1d0b6c2/ce69e/amat-1.jpg 512w,\n/static/35fffa8867f64f98d0fa39d7d1d0b6c2/e640c/amat-1.jpg 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[]},"width":1024,"height":512}}}}}}]}},"pageContext":{"slug":"comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat","uri":"/2018/07/28/comune-di-palermo-arrivano-i-dati-in-real-time-per-alcuni-degli-autobus-pubblici-di-amat/"}},
    "staticQueryHashes": ["67603594"]}